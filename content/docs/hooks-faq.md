---
id: hooks-faq
title: "–•—É–∫–∏: FAQ"
permalink: docs/hooks-faq.html
prev: hooks-reference.html
---

*–•—É–∫–∏* ‚Äî —Ü–µ –Ω–æ–≤–∏–Ω–∫–∞ –≤ React 16.8. –í–æ–Ω–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–∞–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–∞–Ω —Ç–∞ —ñ–Ω—à—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ React –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –∫–ª–∞—Å—É.

–ù–∞ —Ü—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –¥–µ—è–∫—ñ –ø–æ—à–∏—Ä–µ–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è —â–æ–¥–æ [—Ö—É–∫—ñ–≤](/docs/hooks-overview.html).

<!--
  —è–∫—â–æ –≤–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –∫–æ–ª–∏—Å—å –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ü–µ –Ω–∞–Ω–æ–≤–æ, –Ω–∞—Å—Ç—É–ø–Ω–∏–π —É—Ä–∏–≤–æ–∫ –∫–æ–¥—É –≤–≤–µ–¥–µ–Ω–∏–π —É —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ –º–æ–∂–µ –≤–∞–º –¥–æ–ø–æ–º–æ–≥—Ç–∏:

  $$('.anchor').map(a =>
    `${' '.repeat(2 * +a.parentNode.nodeName.slice(1))}` +
    `[${a.parentNode.textContent}](${a.getAttribute('href')})`
  ).join('\n')
-->

* **[–°—Ç—Ä–∞—Ç–µ–≥—ñ—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è —Ö—É–∫—ñ–≤](#adoption-strategy)**
  * [–Ø–∫—ñ –≤–µ—Ä—Å—ñ—ó React –≤–∫–ª—é—á–∞—é—Ç—å —Ö—É–∫–∏?](#which-versions-of-react-include-hooks)
  * [–ß–∏ –º–∞—é —è –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞—Ç–∏ –≤—Å—ñ –º–æ—ó –∫–ª–∞—Å–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏?](#do-i-need-to-rewrite-all-my-class-components)
  * [–©–æ —è –º–æ–∂—É –∑—Ä–æ–±–∏—Ç–∏ –∑ —Ö—É–∫–∞–º–∏ —Ç–∞–∫–æ–≥–æ, —á–æ–≥–æ –Ω–µ –º–æ–∂—É –∑ –∫–ª–∞—Å–∞–º–∏?](#what-can-i-do-with-hooks-that-i-couldnt-with-classes)
  * [–Ø–∫–∞ —á–∞—Å—Ç–∏–Ω–∞ –º–æ—ó—Ö –∑–Ω–∞–Ω—å React –∑–∞–ª–∏—à–∏—Ç—å—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—é?](#how-much-of-my-react-knowledge-stays-relevant)
  * [–©–æ —è –º–∞—é –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏: —Ö—É–∫–∏, –∫–ª–∞—Å–∏ —á–∏ —ó—Ö –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é?](#should-i-use-hooks-classes-or-a-mix-of-both)
  * [–ß–∏ –ø–æ–∫—Ä–∏–≤–∞—é—Ç—å —Ö—É–∫–∏ –≤—Å—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–ª–∞—Å—ñ–≤?](#do-hooks-cover-all-use-cases-for-classes)
  * [–ß–∏ –∑–∞–º—ñ–Ω—è—Ç—å —Ö—É–∫–∏ —Ä–µ–Ω–¥–µ—Ä –ø—Ä–æ–ø—Å–∏ —Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤–∏—â–æ–≥–æ –ø–æ—Ä—è–¥–∫—É?](#do-hooks-replace-render-props-and-higher-order-components)
  * [–©–æ –æ–∑–Ω–∞—á–∞—é—Ç—å —Ö—É–∫–∏ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö API, —Ç–∞–∫–∏—Ö —è–∫ Redux connect() —á–∏ React Router?](#what-do-hooks-mean-for-popular-apis-like-redux-connect-and-react-router)
  * [–ß–∏ –ø—Ä–∞—Ü—é—é—Ç—å —Ö—É–∫–∏ –∑—ñ —Å—Ç–∞—Ç–∏—á–Ω–æ—é —Ç–∏–ø—ñ–∑–∞—Ü—ñ—î—é?](#do-hooks-work-with-static-typing)
  * [–Ø–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ö—É–∫–∏?](#how-to-test-components-that-use-hooks)
  * [–©–æ —Å–∞–º–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ª—ñ–Ω—Ç–µ—Ä–∞ —É —Ö—É–∫–∞—Ö?](#what-exactly-do-the-lint-rules-enforce)
* **[–í—ñ–¥ –∫–ª–∞—Å—ñ–≤ –¥–æ —Ö—É–∫—ñ–≤](#from-classes-to-hooks)**
  * [–Ø–∫ –º–µ—Ç–æ–¥–∏ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—Å—è—Ç—å—Å—è –∑ —Ö—É–∫–∞–º–∏?](#how-do-lifecycle-methods-correspond-to-hooks)
  * [–Ø–∫ —è –º–æ–∂—É —Ä–æ–±–∏—Ç–∏ –≤–∏–±—ñ—Ä–∫—É –¥–∞–Ω–∏—Ö –∑ –¥–æ–ø–æ–º–æ–≥–æ—é —Ö—É–∫—ñ–≤?](#how-can-i-do-data-fetching-with-hooks)
  * [–ß–∏ —î —â–æ—Å—å –ø–æ–¥—ñ–±–Ω–µ –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—É?](#is-there-something-like-instance-variables)
  * [–°–∫—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–Ω–∏—Ö —Å—Ç–∞–Ω—É –º–µ–Ω—ñ —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ‚Äî –æ–¥–Ω—É —á–∏ –¥–µ–∫—ñ–ª—å–∫–∞?](#should-i-use-one-or-many-state-variables)
  * [–ß–∏ –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –µ—Ñ–µ–∫—Ç –ª–∏—à–µ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ?](#can-i-run-an-effect-only-on-updates)
  * [–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –ø—Ä–æ–ø—Å–∏ —á–∏ —Å—Ç–∞–Ω?](#how-to-get-the-previous-props-or-state)
  * [–ß–æ–º—É —è –±–∞—á—É –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–æ–ø—Å—ñ–≤ —á–∏ —Å—Ç–∞–Ω—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–æ—î—ó —Ñ—É–Ω–∫—Ü—ñ—ó?](#why-am-i-seeing-stale-props-or-state-inside-my-function)
  * [–Ø–∫ —è –º–æ–∂—É —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ getDerivedStateFromProps?](#how-do-i-implement-getderivedstatefromprops)
  * [–ß–∏ —î —â–æ—Å—å —Å—Ö–æ–∂–µ –Ω–∞ forceUpdate?](#is-there-something-like-forceupdate)
  * [–ß–∏ –º–æ–∂—É —è –∑—Ä–æ–±–∏—Ç–∏ —Ä–µ—Ñ –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç?](#can-i-make-a-ref-to-a-function-component)
  * [–Ø–∫ —è –º–æ–∂—É –æ–±–º–µ–∂–∏—Ç–∏ –≤—É–∑–æ–ª DOM?](#how-can-i-measure-a-dom-node)
  * [–©–æ –æ–∑–Ω–∞—á–∞—î const [thing, setThing] = useState()?](#what-does-const-thing-setthing--usestate-mean)
* **[–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ](#performance-optimizations)**
  * [–ß–∏ –º–æ–∂—É —è –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –µ—Ñ–µ–∫—Ç –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ?](#can-i-skip-an-effect-on-updates)
  * [–ß–∏ –±–µ–∑–ø–µ—á–Ω–æ –Ω–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –≤ —Å–ø–∏—Å–∫—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π —Ñ—É–Ω–∫—Ü—ñ—ó?](#is-it-safe-to-omit-functions-from-the-list-of-dependencies)
  * [–©–æ —è –º–æ–∂—É –∑—Ä–æ–±–∏—Ç–∏, —è–∫—â–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º–æ–≥–æ –µ—Ñ–µ–∫—Ç—É –∑–º—ñ–Ω—é—é—Ç—å—Å—è –Ω–∞–¥—Ç–æ —á–∞—Å—Ç–æ?](#what-can-i-do-if-my-effect-dependencies-change-too-often)
  * [–Ø–∫ —è –º–æ–∂—É —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ shouldComponentUpdate?](#how-do-i-implement-shouldcomponentupdate)
  * [–Ø–∫ –∑–∞–ø–∞–º'—è—Ç–∞—Ç–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è?](#how-to-memoize-calculations)
  * [–Ø–∫ –ª—ñ–Ω–∏–≤–æ –æ–±—á–∏—Å–ª–∏—Ç–∏ –≤–∞—Ä—Ç—ñ—Å–Ω—ñ –æ–±'—î–∫—Ç–∏?](#how-to-create-expensive-objects-lazily)
  * [–ß–∏ —î —Ö—É–∫–∏ –ø–æ–≤—ñ–ª—å–Ω–∏–º–∏ —á–µ—Ä–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä—ñ?](#are-hooks-slow-because-of-creating-functions-in-render)
  * [–Ø–∫ —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–µ—Ä–µ–¥–∞—á—ñ —Ñ—É–Ω–∫—Ü—ñ–π –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –≤–Ω–∏–∑?](#how-to-avoid-passing-callbacks-down)
  * [–Ø–∫ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —á–∞—Å—Ç–æ –∑–º—ñ–Ω—é–≤–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ useCallback?](#how-to-read-an-often-changing-value-from-usecallback)
* **[–î–µ—Ç–∞–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó](#under-the-hood)**
  * [–Ø–∫ React –∞—Å–æ—Ü—ñ—é—î –≤–∏–∫–ª–∏–∫–∏ —Ö—É–∫—ñ–≤ –∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏?](#how-does-react-associate-hook-calls-with-components)
  * [–©–æ –ª–µ–∂–∏—Ç—å –≤ –æ—Å–Ω–æ–≤—ñ –¥–∏–∑–∞–π–Ω—É —Ö—É–∫—ñ–≤?](#what-is-the-prior-art-for-hooks)

## –°—Ç—Ä–∞—Ç–µ–≥—ñ—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è —Ö—É–∫—ñ–≤ {#adoption-strategy}

### –Ø–∫—ñ –≤–µ—Ä—Å—ñ—ó React –≤–∫–ª—é—á–∞—é—Ç—å —Ö—É–∫–∏? {#which-versions-of-react-include-hooks}

–ü–æ—á–∏–Ω–∞—é—á–∏ –∑ –≤–µ—Ä—Å—ñ—ó 16.8.0, React –≤–∫–ª—é—á–∞—î —Å—Ç–∞–±—ñ–ª—å–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é —Ö—É–∫—ñ–≤ –¥–ª—è:

* React DOM
* React DOM –°–µ—Ä–≤–µ—Ä
* –¢–µ—Å—Ç–æ–≤–∏–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä React
* –ü–æ–≤–µ—Ä—Ö–Ω–µ–≤–∏–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä React

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ —Ç–µ, **—â–æ –≤—Å—ñ –ø–∞–∫—É–Ω–∫–∏ React –º–∞—é—Ç—å –±—É—Ç–∏ –≤–µ—Ä—Å—ñ—ó 16.8.0 –∞–±–æ –≤–∏—â–µ, —â–æ–± –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ö—É–∫–∏**. –•—É–∫–∏ –Ω–µ –±—É–¥—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏, —è–∫—â–æ –≤–∏ –∑–∞–±—É–¥–µ—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, React DOM.

React Native –æ—Ç—Ä–∏–º–∞—î –ø–æ–≤–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Ö—É–∫—ñ–≤ —É –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É —Å—Ç–∞–±—ñ–ª—å–Ω–æ–º—É —Ä–µ–ª—ñ–∑—ñ.

### –ß–∏ –º–∞—é —è –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞—Ç–∏ –≤—Å—ñ –º–æ—ó –∫–ª–∞—Å–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏? {#do-i-need-to-rewrite-all-my-class-components}

–ù—ñ. –ú–∏ [–Ω–µ –ø–ª–∞–Ω—É—î–º–æ](/docs/hooks-intro.html#gradual-adoption-strategy) –≤–∏–¥–∞–ª—è—Ç–∏ –∫–ª–∞—Å–∏ –∑ React -- –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—Å—Ç–∞–≤–ª—è—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ —ñ –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —Å–æ–±—ñ –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞—Ç–∏ –∫–æ–¥–æ–≤—É –±–∞–∑—É. –ú–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Ö—É–∫–∏ —É –Ω–æ–≤–æ–º—É –∫–æ–¥—ñ.

### –©–æ —è –º–æ–∂—É –∑—Ä–æ–±–∏—Ç–∏ –∑ —Ö—É–∫–∞–º–∏ —Ç–∞–∫–æ–≥–æ, —á–æ–≥–æ –Ω–µ –º–æ–∂—É –∑ –∫–ª–∞—Å–∞–º–∏? {#what-can-i-do-with-hooks-that-i-couldnt-with-classes}

–•—É–∫–∏ –ø—Ä–æ–ø–æ–Ω—É—é—Ç—å –Ω–æ–≤–∏–π, –ø–æ—Ç—É–∂–Ω–∏–π —ñ –≤–∏—Ä–∞–∑–Ω–∏–π —à–ª—è—Ö –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –º—ñ–∂ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. ["–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö —Ö—É–∫—ñ–≤"](/docs/hooks-custom.html) –Ω–∞–¥–∞—î —É—è–≤–ª–µ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –≤–∏ –º–æ–∂–µ—Ç–µ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏. [–¶—è —Å—Ç–∞—Ç—Ç—è](https://medium.com/@dan_abramov/making-sense-of-react-hooks-fdbde8803889), –Ω–∞–ø–∏—Å–∞–Ω–∞ —á–ª–µ–Ω–æ–º –æ—Å–Ω–æ–≤–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ React, –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–æ–∑–ø–æ–≤—ñ–¥–∞—î –ø—Ä–æ –Ω–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ, —è–∫—ñ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å —Ö—É–∫–∏.

### –Ø–∫–∞ —á–∞—Å—Ç–∏–Ω–∞ –º–æ—ó—Ö –∑–Ω–∞–Ω—å React –∑–∞–ª–∏—à–∏—Ç—å—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—é? {#how-much-of-my-react-knowledge-stays-relevant}

–•—É–∫–∏ ‚Äî —Ü–µ –±—ñ–ª—å—à –ø—Ä—è–º–∏–π —Å–ø–æ—Å—ñ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π React –ø—Ä–æ —è–∫—ñ –≤–∏ –≤–∂–µ –∑–Ω–∞—î—Ç–µ: —Å—Ç–∞–Ω, –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª, –∫–æ–Ω—Ç–µ–∫—Å—Ç —ñ —Ä–µ—Ñ–∏. –•—É–∫–∏ –Ω–µ –∑–º—ñ–Ω—é—é—Ç—å –æ—Å–Ω–æ–≤–Ω—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏ —Ä–æ–±–æ—Ç–∏ React —ñ –≤–∞—à—ñ –∑–Ω–∞–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, –ø—Ä–æ–ø—Å—ñ–≤ —Ç–∞ –Ω–∏–∑—Ö—ñ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É –¥–∞–Ω–∏—Ö –∑–∞–ª–∏—à–∞—Ç—å—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–∏–º–∏.

–•—É–∫–∏ —Å–∞–º—ñ –ø–æ —Å–æ–±—ñ –º–∞—é—Ç—å –∫—Ä–∏–≤—É –≤–∏–≤—á–µ–Ω–Ω—è. –Ø–∫—â–æ —É —Ü—ñ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —á–æ–≥–æ—Å—å –Ω–µ –≤–∏—Å—Ç–∞—á–∞—î, [–ø—ñ–¥–Ω—ñ–º—ñ—Ç—å –ø–∏—Ç–∞–Ω–Ω—è](https://github.com/reactjs/reactjs.org/issues/new) —ñ –º–∏ —Å–ø—Ä–æ–±—É—î–º–æ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≤–∞–º.

### –©–æ —è –º–∞—é –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏: —Ö—É–∫–∏, –∫–ª–∞—Å–∏ —á–∏ —ó—Ö –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é? {#should-i-use-hooks-classes-or-a-mix-of-both}

–ö–æ–ª–∏ –≤–∏ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ñ, –º–∏ –∑–∞–æ—Ö–æ—á—É—î–º–æ –≤–∞—Å –ø–æ—á–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ö—É–∫–∏ —É –≤–∞—à–∏—Ö –Ω–æ–≤–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –í–ø–µ–≤–Ω—ñ—Ç—å—Å—è, —â–æ –∫–æ–∂–µ–Ω —á–ª–µ–Ω –≤–∞—à–æ—ó –∫–æ–º–∞–Ω–¥–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—î —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–∏–π –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é. –ú–∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –∫–ª–∞—Å–∏ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ö—É–∫—ñ–≤, —è–∫—â–æ –≤–∏ –Ω–µ –ø–ª–∞–Ω—É—î—Ç–µ —ó—Ö –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞—Ç–∏ —É –±—É–¥—å-—è–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–º–∏–ª–∫—É).

–í–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ö—É–∫–∏ *–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ* –∫–ª–∞—Å–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∞–ª–µ –≤–∏ –±–µ–∑—É–º–æ–≤–Ω–æ –º–æ–∂–µ—Ç–µ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ –∫–ª–∞—Å–∏ —ñ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –∑ —Ö—É–∫–∞–º–∏ –≤ –æ–¥–Ω–æ–º—É –¥–µ—Ä–µ–≤—ñ. –ß–∏ —î –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–ª–∞—Å–æ–º, —á–∏ —Ñ—É–Ω–∫—Ü—ñ—î—é ‚Äî –Ω–µ–≤–∞–∂–ª–∏–≤–æ, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –ª–∏—à–µ –¥–µ—Ç–∞–ª—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ü—å–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ú–∏ –æ—á—ñ–∫—É—î–º–æ, —â–æ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É —Ö—É–∫–∏ –±—É–¥—É—Ç—å –æ—Å–Ω–æ–≤–Ω–∏–º –º–µ—Ç–æ–¥–æ–º –Ω–∞–ø–∏—Å–∞–Ω–Ω—è React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

### –ß–∏ –ø–æ–∫—Ä–∏–≤–∞—é—Ç—å —Ö—É–∫–∏ –≤—Å—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–ª–∞—Å—ñ–≤? {#do-hooks-cover-all-use-cases-for-classes}

–ù–∞—à–æ—î –º–µ—Ç–æ—é —î –ø–æ–∫—Ä–∏—Ç—Ç—è –≤—Å—ñ—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –∫–ª–∞—Å—ñ–≤ —Ö—É–∫–∞–º–∏ —è–∫–Ω–∞–π—à–≤–∏–¥—à–µ. –ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ —É –≤–∏–≥–ª—è–¥—ñ —Ö—É–∫—ñ–≤ –¥–ª—è —Ç–∞–∫–∏—Ö —Ä—ñ–¥–∫–æ–≤–∂–∏–≤–∞–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É —è–∫ `getSnapshotBeforeUpdate` —Ç–∞ `componentDidCatch`, –∞–ª–µ –º–∏ –ø–ª–∞–Ω—É—î–º–æ —Å–∫–æ—Ä–æ —ó—Ö –¥–æ–¥–∞—Ç–∏.

–û—Å–∫—ñ–ª—å–∫–∏ —Ö—É–∫–∏ –∑'—è–≤–∏–ª–∏—Å—å –∑–æ–≤—Å—ñ–º –Ω–µ—â–æ–¥–∞–≤–Ω–æ, —Ç–æ –Ω–µ –≤—Å—ñ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Å—É–º—ñ—Å–Ω–∏–º–∏ –∑ –Ω–∏–º–∏.

### –ß–∏ –∑–∞–º—ñ–Ω—è—Ç—å —Ö—É–∫–∏ —Ä–µ–Ω–¥–µ—Ä –ø—Ä–æ–ø—Å–∏ —Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤–∏—â–æ–≥–æ –ø–æ—Ä—è–¥–∫—É? {#do-hooks-replace-render-props-and-higher-order-components}

–ß–∞—Å—Ç–æ —Ä–µ–Ω–¥–µ—Ä –ø—Ä–æ–ø—Å–∏ —Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤–∏—â–æ–≥–æ –ø–æ—Ä—è–¥–∫—É —Ä–µ–Ω–¥–µ—Ä—è—Ç—å –ª–∏—à–µ –æ–¥–Ω–æ–≥–æ –Ω–∞—â–∞–¥–∫–∞. –ú–∏ –≤–≤–∞–∂–∞—î–º–æ, —â–æ —Ö—É–∫–∏ —î –ø—Ä–æ—Å—Ç—ñ—à–∏–º —à–ª—è—Ö–æ–º –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ. –í—Å–µ —â–µ –º–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–±–∏–¥–≤–∞ —à–∞–±–ª–æ–Ω–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∫—Ä–æ–ª—ñ–Ω–≥—É –º–æ–∂–µ –º–∞—Ç–∏ –ø—Ä–æ–ø `renderItem` —á–∏ –≤—ñ–∑—É–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ –º–∞—Ç–∏ –≤–ª–∞—Å–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É DOM). –ê–ª–µ —É –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤, —Ö—É–∫—ñ–≤ –±—É–¥–µ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –≤–∫–ª–∞–¥–µ–Ω—å —É –≤–∞—â–æ–º—É –¥–µ—Ä–µ–≤—ñ.

### –©–æ –æ–∑–Ω–∞—á–∞—é—Ç—å —Ö—É–∫–∏ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö API, —Ç–∞–∫–∏—Ö —è–∫ Redux connect() —á–∏ React Router?{#what-do-hooks-mean-for-popular-apis-like-redux-connect-and-react-router}

–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ –∂ —Å–∞–º—ñ API, —â–æ —ñ –∑–∞–≤–∂–¥–∏ ‚Äî –≤–æ–Ω–∏ –ø—Ä–æ–¥–æ–≤–∂—É—é—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏.

–£ –º–∞–π–±—É—Ç–Ω—å–æ–º—É, –Ω–æ–≤—ñ –≤–µ—Ä—Å—ñ—ó —Ü–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫ –º–æ–∂—É—Ç—å –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ —Ö—É–∫–∏ –Ω–∞ –∫—à—Ç–∞–ª—Ç `useRedux()` —á–∏ `useRouter()` —ñ —Ü–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –≤–∞–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç–æ–π –∂–µ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö-–æ–±–≥–æ—Ä—Ç–∫–∞—Ö.

### –ß–∏ –ø—Ä–∞—Ü—é—é—Ç—å —Ö—É–∫–∏ –∑—ñ —Å—Ç–∞—Ç–∏—á–Ω–æ—é —Ç–∏–ø—ñ–∑–∞—Ü—ñ—î—é? {#do-hooks-work-with-static-typing}

–•—É–∫–∏ –±—É–ª–∏ —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω—ñ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Å—Ç–∞—Ç–∏—á–Ω–æ—ó —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó. –û—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ —î —Ñ—É–Ω–∫—Ü—ñ—è–º–∏, —Ç–æ —ó—Ö –ª–µ–≥—à–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ç–∏–ø—ñ–∑—É–≤–∞—Ç–∏, –∞–Ω—ñ–∂, —Å–∫–∞–∂—ñ–º–æ, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤–∏—â–æ–≥–æ –ø–æ—Ä—è–¥–∫—É. –ù–∞–π–Ω–æ–≤—ñ—à—ñ –≤–µ—Ä—Å—ñ—ó Flow —ñ TypeScript –¥–ª—è React –≤–∂–µ –≤–∫–ª—é—á–∞—é—Ç—å –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Ö—É–∫—ñ–≤.

–ù–µ –º–µ–Ω—à –≤–∞–∂–ª–∏–≤–æ —ñ —Ç–µ, —â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ —Ö—É–∫–∏ –Ω–∞–¥–∞—é—Ç—å –≤–∞–º –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–∞–∫–ª–∞—Å—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ React API, —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ç–∏–ø—ñ–∑—É–≤–∞—Ç–∏ —ó—Ö –±—ñ–ª—å—à —Å—Ç—Ä–æ–≥–æ –ø–µ–≤–Ω–∏–º —á–∏–Ω–æ–º. React –Ω–∞–¥–∞—î –≤–∞–º –ø—Ä–∏–º—ñ—Ç–∏–≤–∏, —è–∫—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —ñ–Ω—à–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, –∫–æ—Ç—Ä—ñ –º–∏ –ø–µ—Ä–µ–¥–±–∞—á–∏–ª–∏ —É –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ.

### –Ø–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ö—É–∫–∏? {#how-to-test-components-that-use-hooks}

–ó —Ç–æ—á–∫–∏ –∑–æ—Ä—É React, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ö—É–∫–∏, —î —Ü—ñ–ª–∫–æ–º –∑–≤–∏—á–∞–π–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º. –Ø–∫—â–æ –≤–∞—à —Å–ø–æ—Å—ñ–± —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–µ –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ –¥–µ—Ç–∞–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó React, —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –∑ —Ö—É–∫–∞–º–∏ –Ω–µ –º–∞—î –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—å –≤—ñ–¥ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö —ñ–Ω—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –º–∏ –º–∞—î–º–æ —Ç–∞–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞:

```js
function Example() {
  const [count, setCount] = useState(0);
  useEffect(() => {
    document.title = `–í–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ ${count} —Ä–∞–∑—ñ–≤`;
  });
  return (
    <div>
      <p>–í–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ {count} —Ä–∞–∑—ñ–≤</p>
      <button onClick={() => setCount(count + 1)}>
        –ù–∞—Ç–∏—Å–Ω–∏ –º–µ–Ω–µ
      </button>
    </div>
  );
}
```

–ú–∏ –ø—Ä–æ—Ç–µ—Å—Ç—É—î–º–æ –π–æ–≥–æ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º React DOM. –©–æ–± –≤–ø–µ–≤–Ω–∏—Ç–∏—Å—å —É —Ç–æ–º—É, —â–æ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —Å–ø—ñ–≤–ø–∞–¥–∞—î –∑ –±—Ä–∞—É–∑–µ—Ä–Ω–æ—é, –º–∏ –æ–±–≥–æ—Ä–Ω–µ–º–æ –∫–æ–¥ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É –π –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —É –≤–∏–∫–ª–∏–∫–∏ [`ReactTestUtils.act()`](/docs/test-utils.html#act):

```js{3,20-22,29-31}
import React from 'react';
import ReactDOM from 'react-dom';
import { act } from 'react-dom/test-utils';
import Counter from './Counter';

let container;

beforeEach(() => {
  container = document.createElement('div');
  document.body.appendChild(container);
});

afterEach(() => {
  document.body.removeChild(container);
  container = null;
});

it('can render and update a counter', () => {
  // –¢–µ—Å—Ç—É—î–º–æ –ø–µ—Ä—à–∏–π —Ä–µ–Ω–¥–µ—Ä —ñ –µ—Ñ–µ–∫—Ç
  act(() => {
    ReactDOM.render(<Counter />, container);
  });
  const button = container.querySelector('button');
  const label = container.querySelector('p');
  expect(label.textContent).toBe('–í–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ 0 —Ä–∞–∑—ñ–≤');
  expect(document.title).toBe('–í–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ 0 —Ä–∞–∑—ñ–≤');

  // –¢–µ—Å—Ç—É—î–º–æ –¥—Ä—É–≥–∏–π —Ä–µ–Ω–¥–µ—Ä —ñ –µ—Ñ–µ–∫—Ç
  act(() => {
    button.dispatchEvent(new MouseEvent('click', {bubbles: true}));
  });
  expect(label.textContent).toBe('–í–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ 1 —Ä–∞–∑—ñ–≤');
  expect(document.title).toBe('–í–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ 1 —Ä–∞–∑—ñ–≤');
});
```

–í–∏–∫–ª–∏–∫–∏ `act()` —Ç–∞–∫–æ–∂ –º–∏—Ç—Ç—î–≤–æ –∑–∞–ø—É—Å—Ç—è—Ç—å –≤–∫–ª–∞–¥–µ–Ω—ñ –≤ –Ω–∏—Ö –µ—Ñ–µ–∫—Ç–∏.

–Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π —Ö—É–∫, –≤–∏ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ, —Å—Ç–≤–æ—Ä–∏–≤—à–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É –≤–∞—à–æ–º—É —Ç–µ—Å—Ç—ñ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ö—É–∫ —É –Ω—å–æ–º—É. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —â–æ–π–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

–©–æ–± –∑–º–µ–Ω—à–∏—Ç–∏ –æ–±'—î–º —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥—É, –º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ [`react-testing-library`](https://git.io/react-testing-library), —è–∫–∞ —Å–ø—Ä–æ–µ–∫—Ç–æ–≤–∞–Ω–∞ –∑ –º–µ—Ç–æ—é –∑–∞–æ—Ö–æ—á–µ–Ω–Ω—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –≤–∞—à—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ç–∞–∫, —è–∫ —Ü–µ –±—É–¥—É—Ç—å —Ä–æ–±–∏—Ç–∏ –∫—ñ–Ω—Ü–µ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ.

### –©–æ —Å–∞–º–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å [–ø—Ä–∞–≤–∏–ª–∞ –ª—ñ–Ω—Ç–µ—Ä–∞](https://www.npmjs.com/package/eslint-plugin-react-hooks) —É —Ö—É–∫–∞—Ö? {#what-exactly-do-the-lint-rules-enforce}

–ú–∏ –Ω–∞–¥–∞—î–º–æ [–ø–ª–∞–≥—ñ–Ω –¥–ª—è ESLint](https://www.npmjs.com/package/eslint-plugin-react-hooks), –∫–æ—Ç—Ä–∏–π –∑–º—É—à—É—î –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—å [–ø—Ä–∞–≤–∏–ª —Ö—É–∫—ñ–≤](/docs/hooks-rules.html) –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫. –í—ñ–Ω –ø—Ä–∏–ø—É—Å–∫–∞—î, —â–æ –∫–æ–∂–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ "`use`" —ñ –≤–µ–ª–∏–∫–æ—ó –ª—ñ—Ç–µ—Ä–∏ –ø—ñ—Å–ª—è –Ω—å–æ–≥–æ, —î —Ö—É–∫–æ–º. –ú–∏ —Ä–æ–∑—É–º—ñ—î–º–æ, —â–æ —Ü–µ –ø—Ä–∏–ø—É—â–µ–Ω–Ω—è –Ω–µ —ñ–¥–µ–∞–ª—å–Ω–µ —ñ –º–æ–∂–µ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ —Ö–∏–±–Ω–∏—Ö —Å–ø—Ä–∞—Ü—é–≤–∞–Ω—å, –∞–ª–µ –±–µ–∑ –ø–æ–¥—ñ–±–Ω–æ—ó –¥–æ–º–æ–≤–ª–µ–Ω–æ—Å—Ç—ñ –Ω–∞ —Ä—ñ–≤–Ω—ñ –µ–∫–æ—Å–∏—Å—Ç–µ–º–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ–º–æ–∂–ª–∏–≤–æ –∑–º—É—Å–∏—Ç–∏ —Ö—É–∫–∏ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ, –∞ –¥–æ–≤—à—ñ —ñ–º–µ–Ω–∞ –º–æ–∂—É—Ç—å –∑–∞–≤–∞–¥–∏—Ç–∏ –ª—é–¥—è–º –≤–ø—Ä–æ–≤–∞–¥–∂—É–≤–∞—Ç–∏ —Ö—É–∫–∏ –∞–±–æ –∂ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—å –¥–æ–º–æ–≤–ª–µ–Ω–æ—Å—Ç—ñ.

–£ –¥–µ—Ç–∞–ª—è—Ö –ø—Ä–∞–≤–∏–ª–∞ –≤–∏–º–∞–≥–∞—é—Ç—å, —â–æ–±:

* –í–∏–∫–ª–∏–∫–∏ —Ö—É–∫—ñ–≤ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `PascalCase`-—Ñ—É–Ω–∫—Ü—ñ—ó (—Ç–æ–±—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞) —á–∏ —ñ–Ω—à–æ—ó `useSomething` —Ñ—É–Ω–∫—Ü—ñ—ó (—Ç–æ–±—Ç–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ–≥–æ —Ö—É–∫–∞).
* –•—É–∫–∏ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è —É –æ–¥–Ω–∞–∫–æ–≤–æ–º—É –ø–æ—Ä—è–¥–∫—É –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä—ñ.

–Ü—Å–Ω—É—î —â–µ –∫—ñ–ª—å–∫–∞ –ø—Ä–∞–≤–∏–ª, —â–æ –º–æ–∂—É—Ç—å –∑–º—ñ–Ω–∏—Ç–∏—Å—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Ç–æ–≥–æ, —è–∫ –º–∏ –∑–º—ñ–Ω—é—î–º–æ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –º—ñ–∂ –ø–æ—à—É–∫–æ–º –ø–æ–º–∏–ª–æ–∫ —ñ —É–Ω–∏–∫–Ω–µ–Ω–Ω—è–º —Ö–∏–±–Ω–∏—Ö —Å–ø—Ä–∞—Ü—é–≤–∞–Ω—å.

## –í—ñ–¥ –∫–ª–∞—Å—ñ–≤ –¥–æ —Ö—É–∫—ñ–≤ {#from-classes-to-hooks}

### –Ø–∫ –º–µ—Ç–æ–¥–∏ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—Å—è—Ç—å—Å—è –∑ —Ö—É–∫–∞–º–∏? {#how-do-lifecycle-methods-correspond-to-hooks}

* `constructor`: –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. –í–∏ –º–æ–∂–µ—Ç–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å—Ç–∞–Ω –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É [`useState`](/docs/hooks-reference.html#usestate). –Ø–∫—â–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É —î –≤–∞—Ä—Ç—ñ—Å–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—é, –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –¥–æ `useState`.

* `getDerivedStateFromProps`: –ù–∞—Ç–æ–º—ñ—Å—Ç—å –∑–∞–ø–ª–∞–Ω—É–π—Ç–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è [–ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É](#how-do-i-implement-getderivedstatefromprops).

* `shouldComponentUpdate`: –ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ `React.memo` [–Ω–∏–∂—á–µ](#how-do-i-implement-shouldcomponentupdate).

* `render`: –¶–µ —Ç—ñ–ª–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

* `componentDidMount`, `componentDidUpdate`, `componentWillUnmount`: –•—É–∫ [`useEffect`](/docs/hooks-reference.html#useeffect) –º–æ–∂–µ –∑–∞–º—ñ–Ω–∏—Ç–∏ –≤—Å—ñ —ó—Ö–Ω—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó (–≤–∫–ª—é—á–Ω–æ –∑ [–º–µ–Ω—à](#can-i-skip-an-effect-on-updates) [—á–∞—Å—Ç–∏–º–∏](#can-i-run-an-effect-only-on-updates) –≤–∏–ø–∞–¥–∫–∞–º–∏).

* `componentDidCatch` —ñ `getDerivedStateFromError`: –ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î —Ö—É–∫—ñ–≤, –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–∏—Ö —Ü–∏–º –º–µ—Ç–æ–¥–∞–º, –∞–ª–µ –≤–æ–Ω–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.

### –Ø–∫ —è –º–æ–∂—É —Ä–æ–±–∏—Ç–∏ –≤–∏–±—ñ—Ä–∫—É –¥–∞–Ω–∏—Ö –∑ –¥–æ–ø–æ–º–æ–≥–æ—é —Ö—É–∫—ñ–≤?

–û—Å—å [–Ω–µ–≤–µ–ª–∏–∫–µ –¥–µ–º–æ](https://codesandbox.io/s/jvvkoo8pq3), —â–æ –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º —Ä–æ–∑–ø–æ—á–∞—Ç–∏. –©–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ, –æ–∑–Ω–∞–π–æ–º—Ç–µ—Å—å –∑ [—Ü—ñ—î—é —Å—Ç–∞—Ç—Ç–µ—é](https://www.robinwieruch.de/react-hooks-fetch-data/) –ø—Ä–æ –≤–∏–±—ñ—Ä–∫—É –¥–∞–Ω–∏—Ö –∑ –¥–æ–ø–æ–º–æ–≥–æ—é —Ö—É–∫—ñ–≤.

### –ß–∏ —î —â–æ—Å—å –ø–æ–¥—ñ–±–Ω–µ –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—É? {#is-there-something-like-instance-variables}

–¢–∞–∫! –•—É–∫ [`useRef()`](/docs/hooks-reference.html#useref) –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—å –Ω–µ –ª–∏—à–µ –¥–ª—è —Ä–µ—Ñ—ñ–≤ DOM. –û–±'—î–∫—Ç "ref" —î –∑–∞–≥–∞–ª—å–Ω–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º, –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å `current` —è–∫–æ–≥–æ, —î –∑–º—ñ–Ω–Ω–æ—é —ñ –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –±—É–¥—å-—è–∫–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –ø–æ–¥—ñ–±–Ω–æ –¥–æ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—É.

–í–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø–∏—Å–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `useEffect`:

```js{2,8}
function Timer() {
  const intervalRef = useRef();

  useEffect(() => {
    const id = setInterval(() => {
      // ...
    });
    intervalRef.current = id;
    return () => {
      clearInterval(intervalRef.current);
    };
  });

  // ...
}
```

–Ø–∫—â–æ –± –º–∏ –ª–∏—à–µ —Ö–æ—Ç—ñ–ª–∏ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª, —Ä–µ—Ñ –±—É–≤ –±–∏ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏–π (`id` –º–æ–∂–µ –±—É—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–∏–º –¥–ª—è –µ—Ñ–µ–∫—Ç—É), –∞–ª–µ –≤—ñ–Ω –º—ñ–≥ –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–∏–º –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É –∑ –æ–±—Ä–æ–±–Ω–∏–∫–∞ –ø–æ–¥—ñ—ó:

```js{3}
  // ...
  function handleCancelClick() {
    clearInterval(intervalRef.current);
  }
  // ...
```

–£ –∑–∞–≥–∞–ª—å–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤–∏ –º–æ–∂–µ—Ç–µ –≤–≤–∞–∂–∞—Ç–∏ —Ä–µ—Ñ–∏ —Å—Ö–æ–∂–∏–º–∏ –Ω–∞ –∑–º—ñ–Ω–Ω—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—É. –£–Ω–∏–∫–∞–π—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ—Ñ—ñ–≤ –ø—ñ–¥ —á–∞—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É, —è–∫—â–æ –≤–∏ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤—É—î—Ç–µ [–ª—ñ–Ω–∏–≤—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é](#how-to-create-expensive-objects-lazily) -- —Ü–µ –º–æ–∂–µ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏. –Ø–∫ –ø—Ä–∞–≤–∏–ª–æ, –≤–∏ –∑–∞—Ö–æ—á–µ—Ç–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Ñ—ñ–≤ —É –æ–±—Ä–æ–±–Ω–∏–∫–∞—Ö –ø–æ–¥—ñ–π —Ç–∞ –µ—Ñ–µ–∫—Ç–∞—Ö.

### –°–∫—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–Ω–∏—Ö —Å—Ç–∞–Ω—É –º–µ–Ω—ñ —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ‚Äî –æ–¥–Ω—É —á–∏ –¥–µ–∫—ñ–ª—å–∫–∞? {#should-i-use-one-or-many-state-variables}

–Ø–∫—â–æ –≤–∏ –∑–≤–∏–∫–ª–∏ –¥–æ –∫–ª–∞—Å—ñ–≤, –≤–∏ —Å–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ –∑–≤–∏–∫–ª–∏ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `useState()` –æ–¥–∏–Ω —Ä–∞–∑ —ñ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤–µ—Å—å —Å—Ç–∞–Ω —É –æ–¥–Ω–æ–º—É –æ–±'—î–∫—Ç—ñ. –Ü —è–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ, —Ç–æ –≤–∏ –º–æ–∂–µ—Ç–µ —Ç–∞–∫ –≤—á–∏–Ω–∏—Ç–∏ —ñ –∑ —Ö—É–∫–∞–º–∏. –û—Å—å –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —â–æ —Å–ª—ñ–¥—É—î –∑–∞ —Ä—É—Ö–∞–º–∏ –º–∏—à–∫–∏. –ú–∏ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –π–æ–≥–æ –ø–æ–∑–∏—Ü—ñ—é —ñ —Ä–æ–∑–º—ñ—Ä —É –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å—Ç–∞–Ω—ñ:

```js
function Box() {
  const [state, setState] = useState({ left: 0, top: 0, width: 100, height: 100 });
  // ...
}
```

–°–∫–∞–∂—ñ–º–æ, —â–æ –º–∏ —Ö–æ—á–µ–º–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ –¥–µ—è–∫—É –ª–æ–≥—ñ–∫—É, —è–∫–∞ –∑–º—ñ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è `left` —ñ `top`, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä—É—Ö–∞—î –º–∏—à–∫–æ—é. –ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –º–∏ –º–∞—î–º–æ –æ–±'—î–¥–Ω—É–≤–∞—Ç–∏ —Ü—ñ –ø–æ–ª—è –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º –æ–±'—î–∫—Ç–æ–º —Å—Ç–∞–Ω—É –≤—Ä—É—á–Ω—É:

```js{4,5}
  // ...
  useEffect(() => {
    function handleWindowMouseMove(e) {
      // –†–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è "...state" –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –º–∏ –Ω–µ "–≤—Ç—Ä–∞—Ç–∏–º–æ" width and height
      setState(state => ({ ...state, left: e.pageX, top: e.pageY }));
    }
    // –ü—Ä–∏–º—ñ—Ç–∫–∞: —Ü—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–µ—â–æ —Å–ø—Ä–æ—â–µ–Ω–∞
    window.addEventListener('mousemove', handleWindowMouseMove);
    return () => window.removeEventListener('mousemove', handleWindowMouseMove);
  }, []);
  // ...
```

–û–±'—î–¥–Ω–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–µ –æ—Å–∫—ñ–ª—å–∫–∏ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –∑–º—ñ–Ω–Ω–æ—é —Å—Ç–∞–Ω—É –º–∏ *–∑–∞–º—ñ–Ω—é—î–º–æ* —ó—ó –∑–Ω–∞—á–µ–Ω–Ω—è. –î–∞–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –º–µ—Ç–æ–¥—É `this.setState` —É –∫–ª–∞—Å—ñ, —è–∫–∏–π *–æ–±'—î–¥–Ω—É—î* –æ–Ω–æ–≤–ª–µ–Ω—ñ –ø–æ–ª—è –≤ –æ–±'—î–∫—Ç.

–Ø–∫—â–æ –≤–∞–º –Ω–µ –≤–∏—Å—Ç–∞—á–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–±'—î–¥–Ω–∞–Ω–Ω—è, –≤–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π `useLegacyState` —Ö—É–∫, —â–æ –æ–±'—î–¥–Ω—É—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ —Å—Ç–∞–Ω—É. –ü—Ä–æ—Ç–µ **–º–∏ —Ä–∞–¥–∏–º–æ —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ —Å—Ç–∞–Ω –Ω–∞ –¥–µ–∫—ñ–ª—å–∫–∞ –∑–º—ñ–Ω–Ω–∏—Ö –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ç–æ–≥–æ, —è–∫—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —Å–∫–æ—Ä—ñ—à–µ –∑–∞ –≤—Å–µ –±—É–¥—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è —Ä–∞–∑–æ–º.**

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –º–∏ –º–æ–≥–ª–∏ —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ —Å—Ç–∞–Ω –Ω–∞—à–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ –æ–±'—î–∫—Ç–∏ `position` —Ç–∞ `size` —ñ –∑–∞–≤–∂–¥–∏ –∑–∞–º—ñ–Ω—é–≤–∞—Ç–∏ `position` –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –≤ –æ–±'—î–¥–Ω–∞–Ω–Ω—ñ:

```js{2,7}
function Box() {
  const [position, setPosition] = useState({ left: 0, top: 0 });
  const [size, setSize] = useState({ width: 100, height: 100 });

  useEffect(() => {
    function handleWindowMouseMove(e) {
      setPosition({ left: e.pageX, top: e.pageY });
    }
    // ...
```

–ö—Ä—ñ–º —Ç–æ–≥–æ, —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –Ω–∞ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –º–∞—î —â–µ –æ–¥–Ω—É –ø–µ—Ä–µ–≤–∞–≥—É. –¶–µ –¥–æ–ø–æ–º–æ–∂–µ –ª–µ–≥–∫–æ –≤–∏–æ–∫—Ä–µ–º–∏—Ç–∏ —Å–ø—ñ–ª—å–Ω—É –ª–æ–≥—ñ–∫—É —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π —Ö—É–∫ –ø—ñ–∑–Ω—ñ—à–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```js{2,7}
function Box() {
  const position = useWindowPosition();
  const [size, setSize] = useState({ width: 100, height: 100 });
  // ...
}

function useWindowPosition() {
  const [position, setPosition] = useState({ left: 0, top: 0 });
  useEffect(() => {
    // ...
  }, []);
  return position;
}
```

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ —Ç–µ, —è–∫ –º–∏ –∑–º–æ–≥–ª–∏ –≤–∏–Ω–µ—Å—Ç–∏ –≤–∏–∫–ª–∏–∫ `useState` –¥–ª—è –∑–º—ñ–Ω–Ω–æ—ó —Å—Ç–∞–Ω—É `position` —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –µ—Ñ–µ–∫—Ç —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π —Ö—É–∫ –±–µ–∑ –∑–º—ñ–Ω–∏ —ó—Ö–Ω—å–æ–≥–æ –∫–æ–¥—É. –Ø–∫–±–∏ –≤–µ—Å—å —Å—Ç–∞–Ω –±—É–≤ –æ–¥–Ω–∏–º –æ–±'—î–∫—Ç–æ–º, —Ç–æ –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ –±—É–ª–æ –± –∑–Ω–∞—á–Ω–æ —Å–∫–ª–∞–¥–Ω—ñ—à–µ.

–ß–∏ –∑–µ—Ä—ñ–≥–∞—î—Ç–µ –≤–∏ –≤–µ—Å—å —Å—Ç–∞–Ω –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –æ–¥–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É `useState`, —á–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ `useState` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ–ª—è –æ–∫—Ä–µ–º–æ ‚Äî –æ–±–∏–¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –±—É–¥—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏. –ê–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –±—É–¥–µ –ª–µ–≥—à–µ —á–∏—Ç–∞—Ç–∏, —è–∫—â–æ –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ –±–∞–ª–∞–Ω—Å –º—ñ–∂ –ø—ñ–¥—Ö–æ–¥–∞–º–∏ —ñ –±—É–¥–µ—Ç–µ –≥—Ä—É–ø—É–≤–∞—Ç–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ –º—ñ–∂ —Å–æ–±–æ—é –∑–º—ñ–Ω–Ω—ñ —Å—Ç–∞–Ω—É. –Ø–∫—â–æ –ª–æ–≥—ñ–∫–∞ —Å—Ç–∞–Ω—É —Å—Ç–∞—î —Å–∫–ª–∞–¥–Ω–æ—é, –º–∏ —Ä–∞–¥–∏–º–æ [–∫–µ—Ä—É–≤–∞—Ç–∏ –Ω–µ—é –∑ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–µ–¥—é—Å–µ—Ä–∞](/docs/hooks-reference.html#usereducer) —á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ–≥–æ —Ö—É–∫–∞.

### –ß–∏ –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –µ—Ñ–µ–∫—Ç –ª–∏—à–µ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ? {#can-i-run-an-effect-only-on-updates}

–¶–µ –¥–æ–≤–æ–ª—ñ –Ω–µ—á–∞—Å—Ç–∏–π –≤–∏–ø–∞–¥–æ–∫. –Ø–∫—â–æ –≤–∞–º —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ, –≤–∏ –º–æ–∂–µ—Ç–µ [–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∑–º—ñ–Ω–Ω–∏–π —Ä–µ—Ñ](#is-there-something-like-instance-variables), —â–æ–± –≤—Ä—É—á–Ω—É –∑–±–µ—Ä–µ–≥—Ç–∏ –ª–æ–≥—ñ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –≤–∫–∞–∑—É—î –Ω–∞ —Ç–µ —á–∏ –≤—ñ–¥–±—É–≤—Å—è, –∞ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è —É –≤–∞—à–æ–º—É –µ—Ñ–µ–∫—Ç—ñ. (–Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–±–∏—Ç–∏ —Ü–µ —á–∞—Å—Ç–æ, –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–ª—è —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π —Ö—É–∫.)

### –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –ø—Ä–æ–ø—Å–∏ —á–∏ —Å—Ç–∞–Ω? {#how-to-get-the-previous-props-or-state}

–ù–∞—Ä–∞–∑—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ –≤—Ä—É—á–Ω—É, [–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤—à–∏ —Ä–µ—Ñ](#is-there-something-like-instance-variables):

```js{6,8}
function Counter() {
  const [count, setCount] = useState(0);

  const prevCountRef = useRef();
  useEffect(() => {
    prevCountRef.current = count;
  });
  const prevCount = prevCountRef.current;

  return <h1>–ó–∞—Ä–∞–∑: {count}, –∞ –¥–æ —Ü—å–æ–≥–æ: {prevCount}</h1>;
}
```

–¶–µ –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –¥–µ—â–æ —É—Å–∫–ª–∞–¥–Ω–µ–Ω–∏–º, –∞–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–æ–∫—Ä–µ–º–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π —Ö—É–∫:

```js{3,7}
function Counter() {
  const [count, setCount] = useState(0);
  const prevCount = usePrevious(count);
  return <h1>–ó–∞—Ä–∞–∑: {count}, –∞ –¥–æ —Ü—å–æ–≥–æ: {prevCount}</h1>;
}

function usePrevious(value) {
  const ref = useRef();
  useEffect(() => {
    ref.current = value;
  });
  return ref.current;
}
```

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ —Ü–µ —Å–ø—Ä–∞—Ü—é—î –¥–ª—è –ø—Ä–æ–ø—Å—ñ–≤, —Å—Ç–∞–Ω—É —á–∏ –±—É–¥—å-—è–∫–æ–≥–æ —ñ–Ω—à–æ–≥–æ –æ–±—á–∏—Å–ª–µ–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è.

```js{5}
function Counter() {
  const [count, setCount] = useState(0);

  const calculation = count * 100;
  const prevCalculation = usePrevious(calculation);
  // ...
```

–¶—ñ–ª–∫–æ–º –º–æ–∂–ª–∏–≤–æ, —â–æ —É –º–∞–π–±—É—Ç–Ω—å–æ–º—É —É React –±—É–¥–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Ö—É–∫ `usePrevious`, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–Ω–æ—Å–Ω–æ —á–∞—Å—Ç–æ.

–¢–∞–∫–æ–∂ –¥–∏–≤—ñ—Ç—å—Å—è [—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —à–∞–±–ª–æ–Ω –¥–ª—è –ø–æ—Ö—ñ–¥–Ω–æ–≥–æ —Å—Ç–∞–Ω—É](#how-do-i-implement-getderivedstatefromprops).

### –ß–æ–º—É —è –±–∞—á—É –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–æ–ø—Å—ñ–≤ —á–∏ —Å—Ç–∞–Ω—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–æ—î—ó —Ñ—É–Ω–∫—Ü—ñ—ó? {#why-am-i-seeing-stale-props-or-state-inside-my-function}

–ö–æ–∂–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ, –≤–∫–ª—é—á–Ω–æ –∑ –æ–±—Ä–æ–±–Ω–∏–∫–∞–º–∏ –ø–æ–¥—ñ–π —Ç–∞ –µ—Ñ–µ–∫—Ç–∞–º–∏, "–±–∞—á–∏—Ç—å" –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–æ–ø—Å—ñ–≤ —Ç–∞ —Å—Ç–∞–Ω—É —Ç–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É, –ø—ñ–¥ —á–∞—Å —è–∫–æ–≥–æ –≤–æ–Ω–∏ –±—É–ª–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ —Ç–∞–∫–∏–π –∫–æ–¥:

```js
function Example() {
  const [count, setCount] = useState(0);

  function handleAlertClick() {
    setTimeout(() => {
      alert('–í–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ –Ω–∞: ' + count);
    }, 3000);
  }

  return (
    <div>
      <p>–í–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ {count} —Ä–∞–∑</p>
      <button onClick={() => setCount(count + 1)}>
        –ù–∞—Ç–∏—Å–Ω–∏ –Ω–∞ –º–µ–Ω–µ
      </button>
      <button onClick={handleAlertClick}>
        –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
      </button>
    </div>
  );
}
```

–Ø–∫—â–æ –≤–∏ —Å–ø–æ—á–∞—Ç–∫—É –Ω–∞—Ç–∏—Å–Ω–µ–Ω—Ç–∞ "–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—èt", –∞ –ø–æ—Ç—ñ–º —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç—É—î—Ç–µ –ª—ñ—á–∏–ª—å–Ω–∏–∫, –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø–æ–∫–∞–∂–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó `count` **–Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ "–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è"**. –¶–µ –≤–∏–∫–ª—é—á–∞—î –ø–æ–º–∏–ª–∫–∏ –≤ –∫–æ–¥—ñ, —â–æ –ø—Ä–∏–ø—É—Å–∫–∞—î –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω—É —á–∏ –ø—Ä–æ–ø—Å—ñ–≤.

–Ø–∫—â–æ –≤–∏ –Ω–∞–≤–º–∏—Å–Ω–æ —Ö–æ—á–µ—Ç–µ –∑—á–∏—Ç–∞—Ç–∏ *–Ω–∞–π–Ω–æ–≤—ñ—à–∏–π* —Å—Ç–∞–Ω –∑ –¥–µ—è–∫–æ—ó –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É, –≤–∏ –º–æ–∂–µ—Ç–µ –∑–±–µ—Ä–µ–≥—Ç–∏ –π–æ–≥–æ –≤ [—Ä–µ—Ñ—ñ](/docs/hooks-faq.html#is-there-something-like-instance-variables), –∑–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ —ñ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è.

–û–∫—Ä—ñ–º —Ü—å–æ–≥–æ, —ñ–Ω—à–æ—é –º–æ–∂–ª–∏–≤–æ—é –ø—Ä–∏—á–∏–Ω–æ—é —Ç–æ–≥–æ, —â–æ –≤–∏ –±–∞—á–∏—Ç–µ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –ø—Ä–æ–ø—Å–∏ —á–∏ —Å—Ç–∞–Ω –º–æ–∂—É—Ç—å –±—É—Ç–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∫–∞–∑–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é "–º–∞—Å–∏–≤—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π". –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤ –µ—Ñ–µ–∫—Ç—ñ –¥—Ä—É–≥–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –≤–∫–∞–∑–∞–Ω–æ –∑–Ω–∞—á–µ–Ω–Ω—è `[]`, –∞–ª–µ –ø—Ä–∏ —Ü—å–æ–º—É –≤—ñ–Ω –∑—á–∏—Ç—É—î –∑–Ω–∞—á–µ–Ω–Ω—è `someProp`, –≤—ñ–Ω –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å "–±–∞—á–∏—Ç–∏" –ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è `someProp`. –†—ñ—à–µ–Ω–Ω—è–º –º–æ–∂–µ –±—É—Ç–∏ –≤–∫–∞–∑–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–∞—Å–∏–≤—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –∞–±–æ –≤—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –Ω—å–æ–≥–æ –≤–∑–∞–≥–∞–ª—ñ. –û—Å—å —Ç—É—Ç –º–æ–∂–Ω–∞ –¥—ñ–∑–Ω–∞—Ç–∏—Å—å [—è–∫ –≤–µ—Å—Ç–∏ —Å–µ–±–µ –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏](#is-it-safe-to-omit-functions-from-the-list-of-dependencies), –∞ —Ç—É—Ç [—ñ–Ω—à—ñ –≤—ñ–¥–æ–º—ñ —Å–ø–æ—Å–æ–±–∏](#what-can-i-do-if-my-effect-dependencies-change-too-often) –∑–Ω–∏–∂–µ–Ω–Ω—è —á–∞—Å—Ç–æ—Ç–∏ –∑–∞–ø—É—Å–∫—É –µ—Ñ–µ–∫—Ç—ñ–≤ –±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–∞–Ω–Ω—è –ø–µ—Ä–µ–¥–∞—á—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.

>–ü—Ä–∏–º—ñ—Ç–∫–∞
>
>–ú–∏ –Ω–∞–¥–∞—î–º–æ –ø—Ä–∞–≤–∏–ª–æ [`exhaustive-deps`](https://github.com/facebook/react/issues/14920), —è–∫ —á–∞—Å—Ç–∏–Ω—É –Ω–∞—à–æ–≥–æ –ø–∞–∫—É–Ω–∫—É [`eslint-plugin-react-hooks`](https://www.npmjs.com/package/eslint-plugin-react-hooks#installation). –í–æ–Ω–æ –ø–æ–ø–µ—Ä–µ–¥–∂—É—î –ø—Ä–æ —Ç–µ, —â–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤–∫–∞–∑–∞–Ω—ñ –Ω–µ–≤—ñ—Ä–Ω–æ —ñ –ø—Ä–æ–ø–æ–Ω—É—î —Ä—ñ—à–µ–Ω–Ω—è.

### –Ø–∫ —è –º–æ–∂—É —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `getDerivedStateFromProps`? {#how-do-i-implement-getderivedstatefromprops}

–ù–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ —Ç–µ, —â–æ —Å–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ [–≤—ñ–Ω –≤–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω](/blog/2018/06/07/you-probably-dont-need-derived-state.html), —É –≤–∏–ø–∞–¥–∫—É –ø–æ—Ç—Ä–µ–±–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `<Transition>`), –≤–∏ –º–æ–∂–µ—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞–Ω –ø—Ä—è–º–æ –ø—ñ–¥ —á–∞—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É. React –Ω–µ–≥–∞–π–Ω–æ –∑—Ä–æ–±–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑ –æ–Ω–æ–≤–ª–µ–Ω–∏–º —Å—Ç–∞–Ω–æ–º –ø—ñ—Å–ª—è –≤–∏—Ö–æ–¥—É –∑ –ø–µ—Ä—à–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É –±–µ–∑ –æ—Å–æ–±–ª–∏–≤–∏—Ö –Ω–∞–∫–ª–∞–¥–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç.

–£ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –º–∏ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–æ–ø—É `row` —É –∑–º—ñ–Ω–Ω—ñ–π —Å—Ç–∞–Ω—É –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:

```js
function ScrollView({row}) {
  let [isScrollingDown, setIsScrollingDown] = useState(false);
  let [prevRow, setPrevRow] = useState(null);

  if (row !== prevRow) {
    // Row –∑–º—ñ–Ω–∏–≤—Å—è –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É. –û–Ω–æ–≤–ª—é—î–º–æ isScrollingDown.
    setIsScrollingDown(prevRow !== null && row > prevRow);
    setPrevRow(row);
  }

  return `–ì–æ—Ä—Ç–∞—î–º–æ –≤–Ω–∏–∑: ${isScrollingDown}`;
}
```

–°–ø–æ—á–∞—Ç–∫—É —Ü–µ –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –¥–∏–≤–Ω–æ, –∞–ª–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ–¥ —á–∞—Å —Ä–µ–Ω–¥–µ—Ä—É —Ü–µ, –ø–æ —Å—É—Ç—ñ, —ñ —î —Ç–µ —á–∏–º –∑–∞–≤–∂–¥–∏ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ –±—É–≤ `getDerivedStateFromProps`.

### –ß–∏ —î —â–æ—Å—å —Å—Ö–æ–∂–µ –Ω–∞ forceUpdate? {#is-there-something-like-forceupdate}

–•—É–∫–∏ `useState` —Ç–∞ `useReducer` [–ø—Ä–∏–ø–∏–Ω—è—é—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è](/docs/hooks-reference.html#bailing-out-of-a-state-update) —è–∫—â–æ –Ω–∞—Å—Ç—É–ø–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–æ—Ä—ñ–≤–Ω—é—î –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É. –ó–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É –Ω–∞ –º—ñ—Å—Ü—ñ —ñ –≤–∏–∫–ª–∏–∫ `setState` –Ω–µ —Å–ø—Ä–∏—á–∏–Ω—è—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É.

–Ø–∫ –ø—Ä–∞–≤–∏–ª–æ, –≤–∏ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω —É React. –ü—Ä–æ—Ç–µ, —É —è–∫–æ—Å—Ç—ñ –∑–∞–ø–∞—Å–Ω–æ–≥–æ –≤–∏—Ö–æ–¥—É, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞, —â–æ–± —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Å—Ç–∞–Ω –Ω–µ –∑–º—ñ–Ω–∏–≤—Å—è:

```js
  const [ignored, forceUpdate] = useReducer(x => x + 1, 0);

  function handleClick() {
    forceUpdate();
  }
```

–ü–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –Ω–∞–º–∞–≥–∞–π—Ç–µ—Å—å —É–Ω–∏–∫–∞—Ç–∏ —Ç–∞–∫–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É.

### –ß–∏ –º–æ–∂—É —è –∑—Ä–æ–±–∏—Ç–∏ —Ä–µ—Ñ –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç? {#can-i-make-a-ref-to-a-function-component}

–•–æ—á–∞ —Ü–µ —ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–¥—Ç–æ —á–∞—Å—Ç–æ, –≤–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–¥–∞—Ç–∏ –¥–µ—è–∫—ñ —ñ–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤—à–∏ —Ö—É–∫ [`useImperativeHandle`](/docs/hooks-reference.html#useimperativehandle).

### –Ø–∫ —è –º–æ–∂—É –æ–±–º–µ–∂–∏—Ç–∏ –≤—É–∑–æ–ª DOM? {#how-can-i-measure-a-dom-node}

–î–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –ø–æ–ª–æ–∂–µ–Ω–Ω—è —á–∏ —Ä–æ–∑–º—ñ—Ä—É –≤—É–∑–ª–∞ DOM, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ [—Ä–µ—Ñ –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É](/docs/refs-and-the-dom.html#callback-refs). React –≤–∏–∫–ª–∏—á–µ —Ñ—É–Ω–∫—Ü—ñ—é –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ —Ä–µ—Ñ –ø—Ä–∏–∫—Ä—ñ–ø–ª—é—î—Ç—å—Å—è –¥–æ —ñ–Ω—à–æ–≥–æ –≤—É–∑–ª–∞. –û—Å—å [–Ω–µ–≤–µ–ª–∏—á–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è](https://codesandbox.io/s/l7m0v5x4v9):

```js{4-8,12}
function MeasureExample() {
  const [height, setHeight] = useState(0);

  const measuredRef = useCallback(node => {
    if (node !== null) {
      setHeight(node.getBoundingClientRect().height);
    }
  }, []);

  return (
    <>
      <h1 ref={measuredRef}>Hello, world</h1>
      <h2>–ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–∏—â–µ –º–∞—î –≤–∏—Å–æ—Ç—É {Math.round(height)} –ø—ñ–∫—Å–µ–ª—ñ–≤</h2>
    </>
  );
}
```

–£ —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –º–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏ `useRef`, –æ—Å–∫—ñ–ª—å–∫–∏ –æ–±'—î–∫—Ç —Ä–µ—Ñ—É –Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª—è—î –Ω–∞—Å –ø—Ä–æ *–∑–º—ñ–Ω–∏* –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Ñ—É. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Ñ—É –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ [–Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –¥–æ—á—ñ—Ä–Ω—ñ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –æ–±–º–µ–∂–µ–Ω–∏–π –≤—É–∑–æ–ª –ø—ñ–∑–Ω—ñ—à–µ](https://codesandbox.io/s/818zzk8m78) (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è), –º–∏ –≤—Å–µ —Ä—ñ–≤–Ω–æ –æ—Ç—Ä–∏–º–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Ü–µ —É –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ —ñ –∑–º–æ–∂–µ–º–æ –æ–Ω–æ–≤–∏—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è.

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É `[]` —É —è–∫–æ—Å—Ç—ñ –º–∞—Å–∏–≤–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π `useCallback`. –í–æ–Ω–∞ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –Ω–∞–∂ —Ä–µ—Ñ –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –Ω–µ –∑–º—ñ–Ω–∏—Ç—å—Å—è –º—ñ–∂ –ø–æ–≤—Ç–æ—Ä–Ω–∏–º–∏ —Ä–µ–Ω–¥–µ—Ä–∞–º–∏, –∞ –æ—Ç–∂–µ React –Ω–µ –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –π–æ–≥–æ –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ.

–ó–∞ –±–∞–∂–∞–Ω–Ω—è–º –º–æ–∂–Ω–∞ [–≤–∏–æ–∫—Ä–µ–º–∏—Ç–∏ —Ü—é –ª–æ–≥—ñ–∫—É](https://codesandbox.io/s/m5o42082xy) —É –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏–π —Ö—É–∫:

```js{2}even if the reducer function is declared inside the component and reads its props
function MeasureExample() {
  const [rect, ref] = useClientRect();
  return (
    <>
      <h1 ref={ref}>Hello, world</h1>
      {rect !== null &&
        <h2>–ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–∏—â–µ –º–∞—î –≤–∏—Å–æ—Ç—É {Math.round(rect.height)} –ø—ñ–∫—Å–µ–ª—ñ–≤</h2>
      }
    </>
  );
}

function useClientRect() {
  const [rect, setRect] = useState(null);
  const ref = useCallback(node => {
    if (node !== null) {
      setRect(node.getBoundingClientRect());
    }
  }, []);
  return [rect, ref];
}
```


### –©–æ –æ–∑–Ω–∞—á–∞—î const [thing, setThing] = useState()? {#what-does-const-thing-setthing--usestate-mean}

–Ø–∫—â–æ –≤–∏ –Ω–µ –∑–Ω–∞–π–æ–º—ñ –∑ —Ü–∏–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º, –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ [–ø–æ—è—Å–Ω–µ–Ω–Ω—è](/docs/hooks-state.html#tip-what-do-square-brackets-mean) —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –¥–ª—è —Ö—É–∫–∞ —Å—Ç–∞–Ω—É.


## –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ {#performance-optimizations}

### –ß–∏ –º–æ–∂—É —è –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –µ—Ñ–µ–∫—Ç –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ? {#can-i-skip-an-effect-on-updates}

–¢–∞–∫. –î–∏–≤—ñ—Ç—å—Å—è [—É–º–æ–≤–Ω–µ —Å–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è –µ—Ñ–µ–∫—Ç—É](/docs/hooks-reference.html#conditionally-firing-an-effect). –ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —è–∫—â–æ –≤–∏ –∑–∞–±—É–¥–µ—Ç–µ –æ–±—Ä–æ–±–∏—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è, —Ç–æ –≤–∏ –º–æ–∂–µ—Ç–µ [—Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏](/docs/hooks-effect.html#explanation-why-effects-run-on-each-update). –°–∞–º–µ —Ç–æ–º—É —Ü–µ —ñ –Ω–µ —î –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.

### –ß–∏ –±–µ–∑–ø–µ—á–Ω–æ –Ω–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –≤ —Å–ø–∏—Å–∫—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π —Ñ—É–Ω–∫—Ü—ñ—ó? {#is-it-safe-to-omit-functions-from-the-list-of-dependencies}

–£ –∑–∞–≥–∞–ª—å–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É ‚Äî –Ω—ñ.

```js{3,8}
function Example({ someProp }) {
  function doSomething() {
    console.log(someProp);
  }

  useEffect(() => {
    doSomething();
  }, []); // üî¥ –¶–µ –Ω–µ–±–µ–∑–±–µ—á–Ω–æ (–≤–∏–∫–ª–∏–∫ `doSomething`, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `someProp`)
}
```

–î–æ–≤–æ–ª—ñ —Å–∫–ª–∞–¥–Ω–æ –∑–∞–ø–∞–º'—è—Ç–∞—Ç–∏ —è–∫—ñ –ø—Ä–æ–ø—Å–∏ —á–∏ —Å—Ç–∞–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—è–º–∏ –∑–∑–æ–≤–Ω—ñ –µ—Ñ–µ–∫—Ç—É. –°–∞–º–µ —Ç–æ–º—É **—Ñ—É–Ω–∫—Ü—ñ—ó, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –µ—Ñ–µ–∫—Ç—É, –æ–≥–æ–ª–æ—à—É—é—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ *–≤* –µ—Ñ–µ–∫—Ç—ñ.** –¢–∞–∫ –±—É–¥–µ –ø—Ä–æ—Å—Ç—ñ—à–µ –ø–æ–±–∞—á–∏—Ç–∏, –≤—ñ–¥ —è–∫–∏—Ö –∑–Ω–∞—á–µ–Ω—å –∑ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑–∞–ª–µ–∂–∏—Ç—å –µ—Ñ–µ–∫—Ç:

```js{4,8}
function Example({ someProp }) {
  useEffect(() => {
    function doSomething() {
      console.log(someProp);
    }

    doSomething();
  }, [someProp]); // ‚úÖ OK (–Ω–∞—à –µ—Ñ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ª–∏—à–µ `someProp`)
}
```

–Ø–∫—â–æ –ø—ñ—Å–ª—è –ø–æ–¥—ñ–±–Ω–æ—ó –∑–º—ñ–Ω–∏ –º–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∂–æ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å –∑ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Ç–æ –º–∏ –º–æ–∂–µ–º–æ –±–µ–∑–ø–µ—á–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ `[]`:

```js{7}
useEffect(() => {
  function doSomething() {
    console.log('hello');
  }

  doSomething();
}, []); // ‚úÖ OK —É —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ, —Ç–æ–º—É —â–æ –º–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ *–∂–æ–¥–Ω–∏—Ö* –∑–Ω–∞—á–µ–Ω—å –∑ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```

–ó–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–± —î —â–µ –∫—ñ–ª—å–∫–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤, –æ–ø–∏—Å–∞–Ω–∏—Ö –Ω–∏–∂—á–µ.

>–ü—Ä–∏–º—ñ—Ç–∫–∞
>
>–ú–∏ –Ω–∞–¥–∞—î–º–æ –ø—Ä–∞–≤–∏–ª–æ [`exhaustive-deps`](https://github.com/facebook/react/issues/14920), —è–∫ —á–∞—Å—Ç–∏–Ω—É –Ω–∞—à–æ–≥–æ –ø–∞–∫—É–Ω–∫—É [`eslint-plugin-react-hooks`](https://www.npmjs.com/package/eslint-plugin-react-hooks#installation). –í–æ–Ω–æ –¥–æ–ø–æ–º–æ–∂–µ –∑–Ω–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, —è–∫—ñ –Ω–µ –æ–±—Ä–æ–±–ª—é—é—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–ª–µ–∂–Ω–∏–º —á–∏–Ω–æ–º.

–î–∞–≤–∞–π—Ç–µ –≥–ª—è–Ω–µ–º–æ, —á–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ.

–Ø–∫—â–æ –≤–∏ –≤–∫–∞–∂–µ—Ç–µ [—Å–ø–∏—Å–æ–∫ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π](/docs/hooks-reference.html#conditionally-firing-an-effect) —É —è–∫–æ—Å—Ç—ñ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `useEffect`, `useMemo`, `useCallback` —á–∏ `useImperativeHandle`, –≤—ñ–Ω –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —É –ø–æ—Ç–æ—Ü—ñ –¥–∞–Ω–∏—Ö React, –≤–∫–ª—é—á–Ω–æ –∑ –ø—Ä–æ–ø—Å–∞–º–∏, —Å—Ç–∞–Ω–æ–º —ñ —ó—Ö –ø–æ—Ö—ñ–¥–Ω–∏–º–∏.

–ú–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –∑ —Å–ø–∏—Å–∫—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π **–ª–∏—à–µ** —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤–æ–Ω–∞ (—á–∏ —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫—ñ –≤–æ–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—î) –Ω–µ –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–ø—Å–∏, —Å—Ç–∞–Ω —á–∏ —ó—Ö –ø–æ—Ö—ñ–¥–Ω—ñ. –£ —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ —î –ø–æ–º–∏–ª–∫–∞:

```js{5,12}
function ProductPage({ productId }) {
  const [product, setProduct] = useState(null);

  async function fetchProduct() {
    const response = await fetch('http://myapi/product' + productId); // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—Ä–æ–ø productId
    const json = await response.json();
    setProduct(json);
  }

  useEffect(() => {
    fetchProduct();
  }, []); // üî¥ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–æ–º—É —â–æ `fetchProduct` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `productId`
  // ...
}
```

**–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–∏–ø—Ä–∞–≤–ª—è—Ç–∏ —Ç–∞–∫—É –ø–æ–º–∏–ª–∫—É, –≤–∏–∫–æ–Ω–∞–≤—à–∏ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó _–≤—Å–µ—Ä–µ–¥–∏–Ω—É_ –≤–∞—à–æ–≥–æ –µ—Ñ–µ–∫—Ç—É**. –¢–∞–∫ –±—É–¥–µ –ø—Ä–æ—Å—Ç—ñ—à–µ –ø–æ–±–∞—á–∏—Ç–∏, —è–∫—ñ –ø—Ä–æ–ø—Å–∏ —á–∏ —Å—Ç–∞–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –µ—Ñ–µ–∫—Ç–æ–º —ñ –≤–ø–µ–≤–Ω–∏—Ç–∏—Å—å, —â–æ –≤—Å—ñ –≤–æ–Ω–∏ –æ–≥–æ–ª–æ—à–µ–Ω—ñ:

```js{5-10,13}
function ProductPage({ productId }) {
  const [product, setProduct] = useState(null);

  useEffect(() => {
    // –ü–µ—Ä–µ–º—ñ—Å—Ç–∏–≤—à–∏ —Ñ—É–Ω–∫—Ü—ñ—é –≤—Å–µ—Ä–µ–¥–∏–Ω—É –µ—Ñ–µ–∫—Ç—É, –º–∏ –º–æ–∂–µ–º–æ –≤—ñ–¥—Ä–∞–∑—É –ø–æ–º—ñ—Ç–∏—Ç–∏, —è–∫—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î.
    async function fetchProduct() {
      const response = await fetch('http://myapi/product' + productId);
      const json = await response.json();
      setProduct(json);
    }

    fetchProduct();
  }, [productId]); // ‚úÖ –í—ñ—Ä–Ω–æ, —Ç–æ–º—É —â–æ –Ω–∞—à –µ—Ñ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ª–∏—à–µ productId
  // ...
}
```

–ö—Ä—ñ–º —Ç–æ–≥–æ, —Ü–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –æ–±—Ä–æ–±–ª—è—Ç–∏ –Ω–µ–≤–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤—à–∏ –ª–æ–∫–∞–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –µ—Ñ–µ–∫—Ç—É:

```js{2,6,8}
  useEffect(() => {
    let ignore = false;
    async function fetchProduct() {
      const response = await fetch('http://myapi/product/' + productId);
      const json = await response.json();
      if (!ignore) setProduct(json);
    }
    return () => { ignore = true };
  }, [productId]);
```

–ú–∏ –ø–µ—Ä–µ–º—ñ—Å—Ç–∏–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—é –≤ –µ—Ñ–µ–∫—Ç, —â–æ–± –Ω–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ —ó—ó –≤ —Å–ø–∏—Å–∫—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.

>–ü–æ—Ä–∞–¥–∞
>
>–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [—Ü–µ –Ω–µ–≤–µ–ª–∏—á–∫–µ –¥–µ–º–æ](https://codesandbox.io/s/jvvkoo8pq3) —ñ [—Ü—é —Å—Ç–∞—Ç—Ç—é](https://www.robinwieruch.de/react-hooks-fetch-data/), —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ –≤–∏–±—ñ—Ä–∫—É –¥–∞–Ω–∏—Ö –∑ —Ö—É–∫–∞–º–∏.

**–Ø–∫—â–æ –≤–∏ –∑ –ø–µ–≤–Ω–∏—Ö –ø—Ä–∏—á–∏–Ω _–Ω–µ –º–æ–∂–µ—Ç–µ_ –ø–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –≤ –µ—Ñ–µ–∫—Ç, —î –∫—ñ–ª—å–∫–∞ —ñ–Ω—à–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤:**

* **–í–∏ –º–æ–∂–µ—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤–∏–Ω–µ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—è –∑–∞ –º–µ–∂—ñ –≤–∞—à–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**. –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É, —Ñ—É–Ω–∫—Ü—ñ—è –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –Ω–µ –±—É–¥–µ –ø–æ—Å–∏–ª–∞—Ç–∏—Å—å –Ω–∞ –ø—Ä–æ–ø—Å–∏ —á–∏ —Å—Ç–∞–Ω, —Ç–æ–º—É —ó—ó –º–æ–∂–Ω–∞ –Ω–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ —É —Å–ø–∏—Å–∫—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.
* –Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫—É –≤–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ, —î —á–∏—Å—Ç–∏–º –æ–±—á–∏—Å–ª–µ–Ω–Ω—è–º —ñ —ó—ó –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –ø—ñ–¥ —á–∞—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É, —Ç–æ –≤–∏ –º–æ–∂–µ—Ç–µ **–≤–∏–∫–ª–∏–∫–∞—Ç–∏ —ó—ó –ø–æ–∑–∞ –º–µ–∂–∞–º–∏ –µ—Ñ–µ–∫—Ç—É** —ñ –∑—Ä–æ–±–∏—Ç–∏ –µ—Ñ–µ–∫—Ç –∑–∞–ª–µ–∂–Ω–∏–º –≤—ñ–¥ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è.
* –£ –∫—Ä–∞–π–Ω—å–æ–º—É –≤–∏–ø–∞–¥–∫—É, –≤–∏ –º–æ–∂–µ—Ç–µ **–¥–æ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –¥–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –µ—Ñ–µ–∫—Ç—É, –∞–ª–µ –ø—Ä–∏ —Ü—å–æ–º—É _–æ–±–≥–æ—Ä–Ω—É—Ç–∏ —ó—ó –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è_** —É —Ö—É–∫ [`useCallback`](/docs/hooks-reference.html#usecallback). –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î —ó—ó –Ω–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä—ñ, –¥–æ–ø–æ–∫–∏ –Ω–µ –∑–º—ñ–Ω—è—Ç—å—Å—è *—ó—ó –≤–ª–∞—Å–Ω—ñ* –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

```js{2-5}
function ProductPage({ productId }) {
  // ‚úÖ –û–±–≥–æ—Ä—Ç–∞—î–º–æ –≤ useCallback, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –∑–º—ñ–Ω–∏ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä—ñ
  const fetchProduct = useCallback(() => {
    // ... –†–æ–±–∏–º–æ —â–æ—Å—å –∑ productId ...
  }, [productId]); // ‚úÖ –ü–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î–º–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ useCallback

  return <ProductDetails fetchProduct={fetchProduct} />;
}

function ProductDetails({ fetchProduct })
  useEffect(() => {
    fetchProduct();
  }, [fetchProduct]); // ‚úÖ –£—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ useEffect –≤–∫–∞–∑–∞–Ω—ñ
  // ...
}
```

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ —É –ø—Ä–∏–∫–ª–∞–¥—ñ –≤–∏—â–µ, –º–∏ **–ø–æ–≤–∏–Ω–Ω—ñ** –≤–∫–∞–∑–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é —É —Å–ø–∏—Å–∫—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∑–º—ñ–Ω–∞ –ø—Ä–æ–ø—É `productId` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `ProductPage` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—É –≤–∏–±—ñ—Ä–∫—É –¥–∞–Ω–∏—Ö —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ `ProductDetails`.

### –©–æ —è –º–æ–∂—É –∑—Ä–æ–±–∏—Ç–∏, —è–∫—â–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º–æ–≥–æ –µ—Ñ–µ–∫—Ç—É –∑–º—ñ–Ω—é—é—Ç—å—Å—è –Ω–∞–¥—Ç–æ —á–∞—Å—Ç–æ? {#what-can-i-do-if-my-effect-dependencies-change-too-often}

–ß–∞—Å–æ–º –≤–∞—à –µ—Ñ–µ–∫—Ç –º–æ–∂–µ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ —Å—Ç–∞–Ω—É, —â–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞–¥—Ç–æ —á–∞—Å—Ç–æ. –£ –≤–∞—Å –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –±–∞–∂–∞–Ω–Ω—è –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Ü–µ–π —Å—Ç–∞–Ω —ñ–∑ —Å–ø–∏—Å–∫—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π, –∞–ª–µ –∑–∞–∑–≤–∏—á–∞–π —Ü–µ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –¥–æ –ø–æ–º–∏–ª–æ–∫:

```js{6,9}
function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    const id = setInterval(() => {
      setCount(count + 1); // –¶–µ–π –µ—Ñ–µ–∫—Ç –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Å—Ç–∞–Ω—É `count`
    }, 1000);
    return () => clearInterval(id);
  }, []); // üî¥ –ü–æ–º–∏–ª–∫–∞: –∑–º—ñ–Ω–Ω–∞ `count` –Ω–µ –≤–∫–∞–∑–∞–Ω–∞ —è–∫ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å

  return <h1>{count}</h1>;
}
```

–í–∫–∞–∑–∞–Ω–Ω—è `[count]` —É —è–∫–æ—Å—Ç—ñ —Å–ø–∏—Å–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –≤–∏–ø—Ä–∞–≤–∏—Ç—å –ø–æ–º–∏–ª–∫—É, –∞–ª–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç—å —Å–∫–∏–¥–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É –Ω–∞ –∫–æ–∂–Ω–æ–º—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ. –¢–∞–∫–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–±–∞–∂–∞–Ω–æ—é. –©–æ–± –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —Ü–µ, –º–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ [—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—É —Ñ–æ—Ä–º—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è `setState`](/docs/hooks-reference.html#functional-updates). –í–æ–Ω–∞ –¥–æ–∑–≤–æ–ª–∏—Ç—å –Ω–∞–º –≤–∫–∞–∑–∞—Ç–∏ *—è–∫* —Å—Ç–∞–Ω –º–∞—î –∑–º—ñ–Ω–∏—Ç–∏—Å—å, –ø—Ä–∏ —Ü—å–æ–º—É –Ω–µ –ø–æ—Å–∏–ª–∞—é—á–∏—Å—å –Ω–∞ *–ø–æ—Ç–æ—á–Ω–∏–π* —Å—Ç–∞–Ω:

```js{6,9}
function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    const id = setInterval(() => {
      setCount(c => c + 1); // ‚úÖ –¶–µ–π —Ä—è–¥–æ–∫ –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∑–º—ñ–Ω–Ω–æ—ó `count` –∑–∑–æ–≤–Ω—ñ
    }, 1000);
    return () => clearInterval(id);
  }, []); // ‚úÖ –ù–∞—à –µ—Ñ–µ–∫—Ç –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∂–æ–¥–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö –≤ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

  return <h1>{count}</h1>;
}
```

(–Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å —Ñ—É–Ω–∫—Ü—ñ—ó `setCount` –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞, –∞ —Ç–æ–º—É —ó—ó –º–æ–∂–Ω–∞ –±–µ–∑–ø–µ—á–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏.)

–£ –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ —Å—Ç–∞–Ω –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —ñ–Ω—à–æ–≥–æ —Å—Ç–∞–Ω—É), —Å–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–Ω–µ—Å—Ç–∏ –ª–æ–≥—ñ–∫—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –∑ –µ—Ñ–µ–∫—Ç–∞, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤—à–∏ [—Ö—É–∫ `useReducer`](/docs/hooks-reference.html#usereducer). [–¶—è —Å—Ç–∞—Ç—Ç—è](https://adamrackis.dev/state-and-use-reducer/) –ø—Ä–ø–æ–ø–æ–Ω—É—î –ø—Ä–∏–∫–ª–∞–¥ —Ç–æ–≥–æ, —è–∫ —Ü–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏. **–Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ—Å—Ç—å —Ñ—É–Ω–∫—Ü—ñ—ó `dispatch` —Ö—É–∫–∞ `useReducer` –∑–∞–≤–∂–¥–∏ –Ω–µ–∑–º—ñ–Ω–Ω–∞** ‚Äî –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è-—Ä–µ–¥—é—Å–µ—Ä –æ–≥–æ–ª–æ—à–µ–Ω–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —ñ —á–∏—Ç–∞—î –π–æ–≥–æ –ø—Ä–æ–ø—Å–∏.

–£ –∫—Ä–∞–π–Ω—å–æ–º—É –≤–∏–ø–∞–¥–∫—É, —è–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ —â–æ—Å—å —Å—Ö–æ–∂–µ –Ω–∞ `this` —É –∫–ª–∞—Å—ñ, –≤–∏ –º–æ–∂–µ—Ç–µ [–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ä–µ—Ñ](/docs/hooks-faq.html#is-there-something-like-instance-variables) –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó, —è–∫—É –≤–∏ –º–æ–∂–µ—Ç–µ –∑—á–∏—Ç—É–≤–∞—Ç–∏ —ñ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É–≤–∞—Ç–∏. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:

```js{2-6,10-11,16}
function Example(props) {
  // –ó–±–µ—Ä–µ–≥—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ –ø—Ä–æ–ø—Å–∏ —É —Ä–µ—Ñ—ñ.
  let latestProps = useRef(props);
  useEffect(() => {
    latestProps.current = props;
  });

  useEffect(() => {
    function tick() {
      // –ü—Ä–æ—á–∏—Ç–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ –ø—Ä–æ–ø—Å–∏ —É –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç
      console.log(latestProps.current);
    }

    const id = setInterval(tick, 1000);
    return () => clearInterval(id);
  }, []); // –¶–µ–π –µ—Ñ–µ–∫—Ç –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É–¥–µ –∑–∞–ø—É—â–µ–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ
}
```

–†–æ–±—ñ—Ç—å —Ç–∞–∫ –ª–∏—à–µ —è–∫—â–æ –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ –∫—Ä–∞—â–æ—ó –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏, —Ç–æ–º—É —â–æ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, —è–∫–∞ –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ –∑–º—ñ–Ω–Ω—ñ—Å—Ç—å, —î –º–µ–Ω—à –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—é. –Ø–∫—â–æ —ñ—Å–Ω—É—î —è–∫–∏–π—Å—å —à–∞–±–ª–æ–Ω, —è–∫–∏–π –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –≥–∞—Ä–Ω–æ –≤–∏—Ä–∞–∑–∏—Ç–∏, [–≤—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—É](https://github.com/facebook/react/issues/new) –∑ –ø—Ä–∏–∫–ª–∞–¥–æ–º –≤–∏–∫–æ–Ω—É–≤–∞–Ω–æ–≥–æ –∫–æ–¥—É —ñ –º–∏ –ø–æ—Å—Ç–∞—Ä–∞—î–º–æ—Å—è –≤–∞–º –¥–æ–ø–æ–º–æ–≥—Ç–∏.

### –Ø–∫ —è –º–æ–∂—É —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ shouldComponentUpdate? {#how-do-i-implement-shouldcomponentupdate}

–í–∏ –º–æ–∂–µ—Ç–µ –æ–±–≥–æ—Ä–Ω—É—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É –≤–∏–∫–ª–∏–∫ `React.memo`, —â–æ–± –ø–æ–≤–µ—Ä—Ö–Ω–µ–≤–æ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏ –π–æ–≥–æ –ø—Ä–æ–ø—Å–∏:

```js
const Button = React.memo((props) => {
  // –≤–∞—à –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
});
```

–¶–µ –Ω–µ —î —Ö—É–∫–æ–º, —Ç–æ–º—É —â–æ —Ü—è —Ñ—É–Ω–∫—Ü—ñ—è –Ω–µ –≤–µ–¥–µ —Å–µ–±–µ —è–∫ —Ö—É–∫. `React.memo` —î –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–æ–º `PureComponent`, –∞–ª–µ –≤–æ–Ω–∞ –ø–æ—Ä—ñ–≤–Ω—é—î —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ–ø—Å–∏. (–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥—Ä—É–≥–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç, —â–æ–± –≤–∫–∞–∑–∞—Ç–∏ –≤–ª–∞—Å–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è, —è–∫–∞ –ø—Ä–∏–π–º–∞—î —Å—Ç–∞—Ä—ñ —ñ –Ω–æ–≤—ñ –ø—Ä–æ–ø—Å–∏. –Ø–∫—â–æ –≤–æ–Ω–∞ –ø–æ–≤–µ—Ä—Ç–∞—î true, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è.)

`React.memo` –Ω–µ –ø–æ—Ä—ñ–≤–Ω—é—î —Å—Ç–∞–Ω, —Ç–æ–º—É —â–æ –Ω–µ —ñ—Å–Ω—É—î —î–¥–∏–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ —Å—Ç–∞–Ω—É, —è–∫–∏–π –±–∏ –º–æ–∂–Ω–∞ –±—É–ª–æ –± –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏. –ê–ª–µ –≤–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ –¥–æ—á—ñ—Ä–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —á–∏—Å—Ç–∏–º–∏ —á–∏ –Ω–∞–≤—ñ—Ç—å [–æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ —ó—Ö –≤–∏–±—ñ—Ä–∫–æ–≤–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤—à–∏ —Ö—É–∫ `useMemo`](/docs/hooks-faq.html#how-to-memoize-calculations).

### –Ø–∫ –∑–∞–ø–∞–º'—è—Ç–∞—Ç–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è? {#how-to-memoize-calculations}

–•—É–∫ [`useMemo`](/docs/hooks-reference.html#usememo) –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –∑–∞–∫–µ—à—É–≤–∞—Ç–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –º—ñ–∂ –∫—ñ–ª—å–∫–æ–º–∞ —Ä–µ–Ω–¥–µ—Ä–∞–º–∏, "–∑–∞–ø–∞–º'—è—Ç–∞–≤—à–∏" –ø–æ–ø–µ—Ä–µ–¥–Ω—î –æ–±—á–∏—Å–ª–µ–Ω–Ω—è:

```js
const memoizedValue = useMemo(() => computeExpensiveValue(a, b), [a, b]);
```

–¶–µ–π –∫–æ–¥ –≤–∏–∫–ª–∏–∫–∞—î `computeExpensiveValue(a, b)`. –ê–ª–µ —è–∫—â–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ `[a, b]` –Ω–µ –∑–º—ñ–Ω–∏–ª–∏—Å—å —É –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ –∑ —ó—Ö –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏, `useMemo` –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–∏–π –≤–∏–∫–ª–∏–∫ —ñ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î –æ—Å—Ç–∞–Ω–Ω—î –ø–æ–≤–µ—Ä–Ω—É—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

–ü–∞–º'—è—Ç–∞–π—Ç–µ, —â–æ —Ñ—É–Ω–∫—Ü—ñ—è, –ø–µ—Ä–µ–¥–∞–Ω–∞ –¥–æ `useMemo`, –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É. –ù–µ —Ä–æ–±—ñ—Ç—å —É –Ω—ñ–π –Ω—ñ—á–æ–≥–æ, —â–æ –≤–∏ –∑–∞–∑–≤–∏—á–∞–π –Ω–µ —Ä–æ–±–∏—Ç–µ –ø—ñ–¥ —á–∞—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ–±—ñ—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –≤ `useEffect`, –∞ –Ω–µ `useMemo`.

**–í–∏ –º–æ–∂–µ—Ç–µ –ø–æ–∫–ª–∞—Å—Ç–∏—Å—å –Ω–∞ `useMemo` —è–∫ –Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, –∞ –Ω–µ –Ω–∞ —Å–µ–º–∞–Ω—Ç–∏—á—É –≥–∞—Ä–∞–Ω—Ç—ñ—é.** –£ –º–∞–π–±—É—Ç–Ω—å–æ–º—É React –º–æ–∂–µ –≤–∏—Ä—ñ—à–∏—Ç–∏ "–∑–∞–±—É—Ç–∏" –¥–µ—è–∫—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –º–µ–º–æ—ñ–∑–æ–≤–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ –ø–µ—Ä–µ–æ–±—á–∏—Å–ª–∏—Ç–∏ —ó—Ö –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä—ñ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –ø–æ–∑–∞ –æ–±–ª–∞—Å—Ç—é –≤–∏–¥–∏–º–æ—Å—Ç—ñ –µ–∫—Ä–∞–Ω–∞. –ù–∞–ø–∏—à—ñ—Ç—å –≤–∞—à –∫–æ–¥ —Ç–∞–∫, —â–æ–± –≤—ñ–Ω –ø—Ä–∞—Ü—é–≤–∞–≤ –±–µ–∑ `useMemo`, –∞ –ø–æ—Ç—ñ–º –¥–æ–¥–∞–π—Ç–µ –π–æ–≥–æ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ. (–£ –Ω–µ—á–∞—Å—Ç–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö, –∫–æ–ª–∏ –∑–Ω–∞—á–µ–Ω–Ω—è *–Ω—ñ–∫–æ–ª–∏* –Ω–µ –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ, –≤–∏ –º–æ–∂–µ—Ç–µ [–ª—ñ–Ω–∏–≤–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏](#how-to-create-expensive-objects-lazily) —Ä–µ—Ñ.)

–ó—Ä—É—á–Ω–æ —Ç–∞–∫–æ–∂ —Ç–µ, —â–æ `useMemo` –¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –≤–∞—Ä—Ç—ñ—Å–Ω–∏–π –ø–æ–≤—Ç–æ—Ä–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä –ø–æ—Ç–æ–º–∫—ñ–≤:

```js
function Parent({ a, b }) {
  // –ü–æ–≤—Ç–æ—Ä–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ `a`:
  const child1 = useMemo(() => <Child1 a={a} />, [a]);
  // –ü–æ–≤—Ç–æ—Ä–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ `b`:
  const child2 = useMemo(() => <Child2 b={b} />, [b]);
  return (
    <>
      {child1}
      {child2}
    </>
  )
}
```

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ —Ü–µ–π –ø—ñ–¥—Ö—ñ–¥ –Ω–µ —Å–ø—Ä–∞—Ü—é—î —É —Ü–∏–∫–ª—ñ, —Ç–æ–º—É —â–æ –≤–∏–∫–ª–∏–∫–∏ —Ö—É–∫—ñ–≤ [–Ω–µ –º–æ–∂–Ω–∞](/docs/hooks-rules.html) –ø–æ–º—ñ—Å—Ç–∏—Ç–∏ –≤ —Ü–∏–∫–ª. –ê–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–æ–∫—Ä–µ–º–∏—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –µ–ª–µ–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∫—É —ñ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `useMemo` —Ç–∞–º.

### –Ø–∫ –ª—ñ–Ω–∏–≤–æ –æ–±—á–∏—Å–ª–∏—Ç–∏ –≤–∞—Ä—Ç—ñ—Å–Ω—ñ –æ–±'—î–∫—Ç–∏? {#how-to-create-expensive-objects-lazily}

`useMemo` –¥–æ–∑–≤–æ–ª—è—î [–∑–∞–ø–∞–º'—è—Ç–∞—Ç–∏ –≤–∞—Ä—Ç—ñ—Å–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è](#how-to-memoize-calculations) –¥–ª—è –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö. –ü—Ä–æ—Ç–µ –≤—ñ–Ω –≤—ñ–¥—ñ–≥—Ä–∞—î –ª–∏—à–µ —Ä–æ–ª—å –ø—ñ–¥–∫–∞–∑–∫–∏ –¥–ª—è React —ñ *–Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î*, —â–æ –ø–æ–≤—Ç–æ—Ä–Ω—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –Ω–µ –±—É–¥—É—Ç—å –≤–∏–∫–æ–Ω–∞–Ω—ñ –∑–Ω–æ–≤—É. –ê–ª–µ —á–∞—Å–æ–º –≤–∏ –º–∞—î—Ç–µ –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ –æ–±'—î–∫—Ç –±—É–≤ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –ª–∏—à–µ —Ä–∞–∑.

**–ü–µ—Ä—à–∏–º –ø–æ—à–∏—Ä–µ–Ω–∏–º –≤–∏–ø–∞–¥–∫–æ–º —î –≤–∞—Ä—Ç—ñ—Å–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É:**

```js
function Table(props) {
  // ‚ö†Ô∏è createRows() –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä—ñ
  const [rows, setRows] = useState(createRows(props.count));
  // ...
}
```

–©–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—é –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É, –º–∏ –º–æ–∂–µ–º–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ **—Ñ—É–Ω–∫—Ü—ñ—é** –¥–æ `useState`:

```js
function Table(props) {
  // ‚úÖ createRows() –≤–∏–∫–ª–∏—á–µ—Ç—å—Å—è –ª–∏—à–µ —Ä–∞–∑
  const [rows, setRows] = useState(() => createRows(props.count));
  // ...
}
```

React –≤–∏–∫–ª–∏—á–µ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é –ª–∏—à–µ –ø—ñ–¥ —á–∞—Å –ø–µ—Ä—à–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [API-–¥–æ–≤—ñ–¥–Ω–∏–∫ –¥–ª—è —Ö—É–∫–∞ `useState`](/docs/hooks-reference.html#usestate).

**–Ü–Ω–æ–¥—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞—Ö–æ—Ç—ñ—Ç–∏ —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è `useRef()`.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏ —Ö–æ—á–µ—Ç–µ –≤–ø–µ–≤–Ω–∏—Ç–∏—Å—å, —â–æ –µ–∫–∑–µ–º–ø–ª—è—Ä –¥–µ—è–∫–æ–≥–æ —ñ–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—É –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –ª–∏—à —Ä–∞–∑:

```js
function Image(props) {
  // ‚ö†Ô∏è IntersectionObserver —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä—ñ
  const ref = useRef(new IntersectionObserver(onIntersect));
  // ...
}
```

`useRef` **–Ω–µ** —Ä–µ–∞–ª—ñ–∑—É—î –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —â–æ –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–∏–π–º–∞—Ç–∏ –æ—Å–æ–±–ª–∏–≤—É —Ñ—É–Ω–∫—Ü—ñ—é —è–∫ `useState`. –ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ –≤–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç–∏ –≤–∞—à—É –≤–ª–∞—Å–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ –ª—ñ–Ω–∏–≤–æ —Å—Ç–≤–æ—Ä–∏—Ç—å —ñ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è:

```js
function Image(props) {
  const ref = useRef(null);

  // ‚úÖ IntersectionObserver –ª—ñ–Ω–∏–≤–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑
  function getObserver() {
    let observer = ref.current;
    if (observer !== null) {
      return observer;
    }
    let newObserver = new IntersectionObserver(onIntersect);
    ref.current = newObserver;
    return newObserver;
  }

  // –í–∏–∫–ª–∏—á—ñ—Ç—å getObserver() –∑–∞ –ø–æ—Ç—Ä–µ–±–∏
  // ...
}
```

–¢–∞–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–æ–∑–≤–æ–ª–∏—Ç—å —É–Ω–∏–∫–Ω—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∞—Ä—Ç—ñ—Å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –¥–æ –º–æ–º–µ–Ω—Ç—É, –∫–æ–ª–∏ –≤—ñ–Ω –¥—ñ–π—Å–Ω–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –≤–ø–µ—Ä—à–µ. –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Flow —á–∏ TypeScript, –≤–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–µ–Ω—É–ª—å–æ–≤–∏–π `getObserver()` —Ç–∏–ø –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ.


### –ß–∏ —î —Ö—É–∫–∏ –ø–æ–≤—ñ–ª—å–Ω–∏–º–∏ —á–µ—Ä–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä—ñ? {#are-hooks-slow-because-of-creating-functions-in-render}

–ù—ñ. –£ —Å—É—á–∞—Å–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö —Å–∏—Ä–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑–∞–º–∏–∫–∞–Ω—å –Ω–µ –Ω–∞–¥—Ç–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –∫–ª–∞—Å—ñ–≤, –∫—Ä—ñ–º –¥–µ—è–∫–∏—Ö –æ—Å–æ–±–ª–∏–≤–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤.

–¢–∞–∫–æ–∂ –≤—Ä–∞—Ö–æ–≤—É–π—Ç–µ, —â–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ö—É–∫—ñ–≤ –±—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ —É –∫—ñ–ª—å–∫–æ—Ö –Ω–∞–ø—Ä—è–º–∫–∞—Ö:

* –•—É–∫–∏ –Ω–µ —Ä–æ–±–ª—è—Ç—å –∑–∞–π–≤–æ—ó —Ä–æ–±–æ—Ç–∏, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫–ª–∞—Å–∞–º, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ –∫–ª–∞—Å—É —ñ –ø—Ä–∏–≤'—è–∑–∫–∞ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ—ó —É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ.

* **–•–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∏–π –∫–æ–¥ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ö—É–∫—ñ–≤ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –≥–ª–∏–±–æ–∫–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤**, —â–æ —î –ø–æ—à–∏—Ä–µ–Ω–∏—Ö —É –∫–æ–¥–æ–≤–∏—Ö –±–∞–∑–∞—Ö –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—è–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –≤–∏—â–æ–≥–æ –ø–æ—Ä—è–¥–∫—É, —Ä–µ–Ω–¥–µ—Ä –ø—Ä–æ–ø—Å—ñ–≤ —Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É. React –º–∞—Ç–∏–º–µ –º–µ–Ω—à–µ —Ä–æ–±–æ—Ç–∏ –∑ –º–µ–Ω—à–∏–º–∏ –¥–µ—Ä–µ–≤–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

–¢—Ä–∞–¥–∏—Ü—ñ–π–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π —É React –±—É–ª–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —Ç–∏–º, —è–∫ –ø–µ—Ä–µ–¥–∞—á–∞ –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä—ñ –ø–æ—Ä—É—à—É—î –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó `shouldComponentUpdate` —É –¥–æ—á—ñ—Ä–Ω—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –•—É–∫–∏ –ø—ñ–¥—Ö–æ–¥—è—Ç—å –¥–æ —Ü—ñ—î—ó –ø—Ä–æ–±–ª–µ–º–∏ –∑ —Ç—Ä—å–æ—Ö —Å—Ç–æ—Ä—ñ–Ω.

* –•—É–∫ [`useCallback`](/docs/hooks-reference.html#usecallback) –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –∑–±–µ—Ä–µ–≥—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ç—É —Å–∞–º—É —Ñ—É–Ω–∫—Ü—ñ—é –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –º—ñ–∂ –ø–æ–≤—Ç–æ—Ä–Ω–∏–º–∏ —Ä–µ–Ω–¥–µ—Ä–∞–º–∏, –∞ —Ç–æ–º—É `shouldComponentUpdate` –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏:

    ```js{2}
    // –ó–º—ñ–Ω–∏—Ç—å—Å—è –ª–∏—à–µ –ø—Ä–∏ –∑–º—ñ–Ω—ñ `a` —á–∏ `b`
    const memoizedCallback = useCallback(() => {
      doSomething(a, b);
    }, [a, b]);
    ```

* –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è [—Ö—É–∫–∞ `useMemo`](/docs/hooks-faq.html#how-to-memoize-calculations) –ø–æ–ª–µ–≥—à—É—î –∫–æ–Ω—Ç—Ä–æ–ª—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö –ø–æ—Ç–æ–º–∫—ñ–≤, –∑–º–µ–Ω—à—É—é—á–∏ –ø–æ—Ç—Ä–µ–±—É –≤ —á–∏—Å—Ç–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

* –ù–∞—Ä–µ—à—Ç—ñ, —Ö—É–∫ `useReducer` –∑–º–µ–Ω—à—É—î –ø–æ—Ç—Ä–µ–±—É –≥–ª–∏–±–æ–∫–æ—ó –ø–µ—Ä–µ–¥–∞—á—ñ —Ñ—É–Ω–∫—Ü—ñ–π –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É, —è–∫ –ø–æ—è—Å–Ω—é—î—Ç—å—Å—è –Ω–∏–∂—á–µ.

### –Ø–∫ —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–µ—Ä–µ–¥–∞—á—ñ —Ñ—É–Ω–∫—Ü—ñ–π –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –≤–Ω–∏–∑? {#how-to-avoid-passing-callbacks-down}

–ú–∏ –∑—Ä–æ–∑—É–º—ñ–ª–∏, —â–æ –±—ñ–ª—å—à–æ—Å—Ç—ñ –ª—é–¥–µ–π –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –≤—Ä—É—á–Ω—É –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—ó –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –≤–Ω–∏–∑ –Ω–∞ –∫–æ–∂–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ –¥–µ—Ä–µ–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤. –ù–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ —Ç–µ, —â–æ —Ü–µ –≤–∏–≥–ª—è–¥–∞—î –±—ñ–ª—å—à —è–≤–Ω–æ, —Ü–µ –º–æ–∂–µ –∑–¥–∞—Ç–∏—Å—å –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –≥—Ä–æ–º—ñ–∑–¥–∫–∏–º.

–£ –≤–µ–ª–∏–∫–∏—Ö –¥–µ—Ä–µ–≤–∞—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —É —è–∫–æ—Å—Ç—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ –º–∏ —Ä–∞–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `dispatch` —Ö—É–∫–∞ [`useReducer`](/docs/hooks-reference.html#usereducer) —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç:

```js{4,5}
const TodosDispatch = React.createContext(null);

function TodosApp() {
  // –ü—Ä–∏–º—ñ—Ç–∫–∞: `dispatch` –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–∞—Ö
  const [todos, dispatch] = useReducer(todosReducer);

  return (
    <TodosDispatch.Provider value={dispatch}>
      <DeepTree todos={todos} />
    </TodosDispatch.Provider>
  );
}
```

–ë—É–¥—å-—è–∫–∏–π –ø–æ—Ç–æ–º–æ–∫ —É –¥–µ—Ä–µ–≤—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `TodosApp` –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `dispatch`, —â–æ–± –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥—ñ—ó –≤–≤–µ—Ä—Ö –¥–æ `TodosApp`:

```js{2,3}
function DeepChild(props) {
  // –Ø–∫—â–æ –º–∏ —Ö–æ—á–µ–º–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é, –º–∏ –º–æ–∂–µ–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ dispatch –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.
  const dispatch = useContext(TodosDispatch);

  function handleClick() {
    dispatch({ type: 'add', text: '–ø—Ä–∏–≤—ñ—Ç' });
  }

  return (
    <button onClick={handleClick}>–î–æ–¥–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è</button>
  );
}
```

–¶–µ–π –≤–∞—Ä—ñ–∞–Ω—Ç –∑—Ä—É—á–Ω—ñ—à–µ —è–∫ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∫–æ–¥—É (–Ω–µ–º–∞—î –ø–æ—Ç—Ä–µ–±–∏ —É –ø–µ—Ä–µ–¥–∞—á—ñ –∑–∞–π–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É), —Ç–∞–∫ —ñ –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É —Ñ—É–Ω–∫—Ü—ñ–π –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –≤ —Ü—ñ–ª–æ–º—É. –ü–µ—Ä–µ–¥–∞—á–∞ `dispatch` –≤–Ω–∏–∑, —è–∫ —É –≤–∏—â–µ–Ω–∞–≤–µ–¥–µ–Ω–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ, —î —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–º —à–∞–±–ª–æ–Ω–æ–º –¥–ª—è –≥–ª–∏–±–æ–∫–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å.

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –≤–∏ –π –¥–æ—Å—ñ –≤—ñ–ª—å–Ω—ñ –æ–±–∏—Ä–∞—Ç–∏ —á–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ *—Å—Ç–∞–Ω* –≤–Ω–∏–∑ —É —è–∫–æ—Å—Ç—ñ –ø—Ä–æ–ø—Å—ñ–≤ (–±—ñ–ª—å—à —è–≤–Ω–æ) –∞–±–æ –∂ —É —è–∫–æ—Å—Ç—ñ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É (–±—ñ–ª—å—à –∑—Ä—É—á–Ω–æ –¥–ª—è –≥–ª–∏–±–æ–∫–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å). –Ø–∫—â–æ –≤–∞—à –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–∞–∫–æ–∂ –ø–µ—Ä–µ–¥–∞—î –≤–Ω–∏–∑ —Å—Ç–∞–Ω, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–≤–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç `dispatch` –Ω—ñ–∫–æ–ª–∏ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è, –∞ –æ—Ç–∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, —â–æ –∑—á–∏—Ç—É—é—Ç—å –π–æ–≥–æ, –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É, —è–∫—â–æ —Ç—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑—ñ —Å—Ç–∞–Ω–æ–º –¥–æ–¥–∞—Ç–∫—É.

### –Ø–∫ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —á–∞—Å—Ç–æ –∑–º—ñ–Ω—é–≤–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ useCallback? {#how-to-read-an-often-changing-value-from-usecallback}

>–ü—Ä–∏–º—ñ—Ç–∫–∞
>
>–ú–∏ —Ä–∞–¥–∏–º–æ [–ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ `dispatch` —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –≤–Ω–∏–∑](#how-to-avoid-passing-callbacks-down), –∞ –Ω–µ –æ–∫—Ä–µ–º–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –≤ –ø—Ä–æ–ø—Å–∞—Ö. –ü—ñ–¥—Ö—ñ–¥ –Ω–∏–∂—á–µ –æ–ø–∏—Å–∞–Ω–∏–π –ª–∏—à–µ –¥–ª—è –ø–æ–≤–Ω–æ—Ç–∏ —ñ —É —è–∫–æ—Å—Ç—ñ –∑–∞–ø–∞—Å–Ω–æ–≥–æ –≤–∏—Ö–æ–¥—É.
>
>–¢–∞–∫–æ–∂ –∑–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ —Ü–µ–π —à–∞–±–ª–æ–Ω –º–æ–∂–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏ —É [–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ](/blog/2018/03/27/update-on-async-rendering.html). –ú–∏ –ø–ª–∞–Ω—É—î–º–æ –Ω–∞–¥–∞—Ç–∏ –±—ñ–ª—å—à –∑—Ä—É—á–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ —É –º–∞–π–±—É—Ç–Ω—å–æ–º—É, –∞–ª–µ –Ω–∞–π–±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º –Ω–∞—Ä–∞–∑—ñ ‚Äî —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ö–æ—á–∞ –± –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥ —è–∫–æ–≥–æ –≤—ñ–Ω –∑–∞–ª–µ–∂–∏—Ç—å.

–£ –Ω–µ—á–∞—Å—Ç–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö –≤–∞–º –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø–∞–º'—è—Ç–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤—à–∏ [`useCallback`](/docs/hooks-reference.html#usecallback), –∞–ª–µ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è –Ω–µ —Å–ø—Ä–∞—Ü—é—î —è–∫ —Å–ª—ñ–¥, —Ç–æ–º—É —â–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è –ø–æ–≤–∏–Ω–Ω–∞ –ø–µ—Ä–µ—Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏—Å—å –Ω–∞–¥—Ç–æ —á–∞—Å—Ç–æ. –Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫—É –≤–∏ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î—Ç–µ, —î –æ–±—Ä–æ–Ω–∏–∫–æ–º –ø–æ–¥—ñ—ó —ñ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É, —Ç–æ –≤–∏ –º–æ–∂–µ—Ç–µ [–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ä–µ—Ñ —è–∫ –∑–º—ñ–Ω–Ω—É –µ–∫–∑–µ–º–ø–ª—è—Ä–∞](#is-there-something-like-instance-variables) —ñ –∑–±–µ—Ä–µ–≥—Ç–∏ —É –Ω—å–æ–º—É –æ—Å—Ç–∞–Ω–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Ä—É—á–Ω—É:

```js{6,10}
function Form() {
  const [text, updateText] = useState('');
  const textRef = useRef();

  useEffect(() => {
    textRef.current = text; // –ó–∞–ø–∏—Å–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —É —Ä–µ—Ñ
  });

  const handleSubmit = useCallback(() => {
    const currentText = textRef.current; // –ü—Ä–æ—á–∏—Ç–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ—Ñ—É
    alert(currentText);
  }, [textRef]); // –ù–µ –ø–µ—Ä–µ—Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ handleSubmit, —è–∫ –±–∏ –±—É–ª–æ —É –≤–∏–ø–∞–¥–∫—É –∑ [text]

  return (
    <>
      <input value={text} onChange={e => updateText(e.target.value)} />
      <ExpensiveTree onSubmit={handleSubmit} />
    </>
  );
}
```

–¶–µ –¥–æ–≤–æ–ª—ñ –∑–∞–ø–ª—É—Ç–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥, –∞–ª–µ –≤—ñ–Ω –ø–æ–∫–∞–∑—É—î, —â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–æ–∫–ª–∞—Å—Ç–∏—Å—å –Ω–∞ —Ü—é –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é —è–∫ –Ω–∞ –∑–∞–ø–∞—Å–Ω–∏–π –≤–∏—Ö—ñ–¥. –ë—É–¥–µ –±—ñ–ª—å—à –∞–¥–µ–∫–≤–∞—Ç–Ω–æ –≤–∏–Ω–µ—Å—Ç–∏ —ó—ó —É –æ–∫—Ä–µ–º–∏–π —Ö—É–∫:

```js{4,16}
function Form() {
  const [text, updateText] = useState('');
  // –ë—É–¥–µ –º–µ–º–æ—ñ–∑–æ–≤–∞–Ω–∞ –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –∑–º—ñ–Ω—ñ `text`:
  const handleSubmit = useEventCallback(() => {
    alert(text);
  }, [text]);

  return (
    <>
      <input value={text} onChange={e => updateText(e.target.value)} />
      <ExpensiveTree onSubmit={handleSubmit} />
    </>
  );
}

function useEventCallback(fn, dependencies) {
  const ref = useRef(() => {
    throw new Error('–ù–µ–º–æ–∂–ª–∏–≤–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó –ø—ñ–¥ —á–∞—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É.');
  });

  useEffect(() => {
    ref.current = fn;
  }, [fn, ...dependencies]);

  return useCallback(() => {
    const fn = ref.current;
    return fn();
  }, [ref]);
}
```

–£ –±—É–¥—å-—è–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É, –º–∏ **–Ω–µ —Ä–∞–¥–∏–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π –ø—ñ–¥—Ö—ñ–¥** —ñ –ø–æ–∫–∞–∑—É—î–º–æ –π–æ–≥–æ —Ç—É—Ç –ª–∏—à–µ –¥–ª—è –ø–æ–≤–Ω–æ—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó. –ù–∞—Ç–æ–º—ñ—Å—Ç—å, –Ω–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É [—É–Ω–∏–∫–Ω–µ–Ω–Ω—é –ø–µ—Ä–µ–¥–∞—á—ñ —Ñ—É–Ω–∫—Ü—ñ–π –∑–≤–æ—Ä–æ—Ç–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –≥–ª–∏–±–æ–∫–æ –≤–Ω–∏–∑](#how-to-avoid-passing-callbacks-down).


## –î–µ—Ç–∞–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó {#under-the-hood}

### –Ø–∫ React –∞—Å–æ—Ü—ñ—é—î –≤–∏–∫–ª–∏–∫–∏ —Ö—É–∫—ñ–≤ –∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏? {#how-does-react-associate-hook-calls-with-components}

React –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É—î, —è–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è —É –¥–∞–Ω–∏–π –º–æ–º–µ–Ω—Ç. –ó–∞–≤–¥—è–∫–∏ [–ø—Ä–∞–≤–∏–ª–∞–º —Ö—É–∫—ñ–≤](/docs/hooks-rules.html) –º–∏ –∑–Ω–∞—î–º–æ, —â–æ —Ö—É–∫–∏ –º–æ–∂—É—Ç—å –≤–∏–∫–ª–∏–∫–∞—Ç–∏—Å—å –ª–∏—à–µ –∑ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ (—á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö —Ö—É–∫—ñ–≤, —è–∫—ñ —Ç–µ–∂ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è –ª–∏—à–µ –∑ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤).

–Ü—Å–Ω—É—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å–ø–∏—Å–æ–∫ "–∫–æ–º—ñ—Ä–æ–∫ –ø–∞–º'—è—Ç—ñ", –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ –∫–æ–∂–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º. –í–æ–Ω–∏ —î –∑–≤–∏—á–∞–π–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏ JavaScript —É —è–∫–∏—Ö –º–∏ –º–æ–∂–µ–º–æ –∑–±–µ—Ä–µ–≥—Ç–∏ –ø–µ–≤–Ω—ñ –¥–∞–Ω—ñ. –ö–æ–ª–∏ –≤–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ —Ö—É–∫ –Ω–∞ –∑—Ä–∞–∑–æ–∫ `useState()`, –≤—ñ–Ω –∑—á–∏—Ç—É—î –ø–æ—Ç–æ—á–Ω—É –∫–æ–º—ñ—Ä–∫—É (—á–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î —ó—ó –ø—ñ–¥ —á–∞—Å –ø–µ—Ä—à–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É)—ñ –∑—Å—É–≤–∞—î –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω—É. –°–∞–º–µ —Ç–∞–∫ —Ä—ñ–∑–Ω—ñ –≤–∏–∫–ª–∏–∫–∏ `useState()` –æ—Ç—Ä–∏–º—É—é—Ç—å –≤–ª–∞—Å–Ω–∏–π –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–π –ª–æ–∫–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω.

### –©–æ –ª–µ–∂–∏—Ç—å –≤ –æ—Å–Ω–æ–≤—ñ –¥–∏–∑–∞–π–Ω—É —Ö—É–∫—ñ–≤? {#what-is-the-prior-art-for-hooks}

–•—É–∫–∏ –æ–±'—î–¥–Ω—É—é—Ç—å —É —Å–æ–±—ñ —ñ–¥–µ—ó –∫—ñ–ª—å–∫–æ—Ö —Ä—ñ–∑–Ω–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π:

* –ù–∞—à—ñ —Å—Ç–∞—Ä—ñ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ –∑ —Ñ—É–Ω–∫—Ü—ñ–∞–æ–Ω–∞–ª—å–Ω–∏–º–∏ API —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó [react-future](https://github.com/reactjs/react-future/tree/master/07%20-%20Returning%20State).
* –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ React –∑ API —Ä–µ–Ω–¥–µ—Ä –ø—Ä–æ–ø—Å—ñ–≤, –≤–∫–ª—é—á–Ω–æ –∑ [Reactions Component] [–†–∞—è–Ω–∞ –§–ª–æ—Ä–µ–Ω—Å–∞ (Ryan Florence)](https://github.com/ryanflorence)(https://github.com/reactions/component).
* –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è [–∫–ª—é—á–æ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `adopt`](https://gist.github.com/trueadm/17beb64288e30192f3aa29cad0218067), —è–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–æ–≥–æ —Ü—É–∫—Ä—É –¥–ª—è —Ä–µ–Ω–¥–µ—Ä –ø—Ä–æ–ø—Å—ñ–≤, –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∞ [–î–æ–º—ñ–Ω—ñ–∫–æ–º “ê–µ–Ω–Ω–µ–≤–µ—î–º (Dominic Gannaway)](https://github.com/trueadm).
* –ó–º—ñ–Ω–Ω—ñ —Å—Ç–∞–Ω—É —ñ –∫–æ–º—ñ—Ä–∫–∏ —Å—Ç–∞–Ω—É –≤ [DisplayScript](http://displayscript.org/introduction.html).
* [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏-—Ä–µ–¥—é—Å–µ—Ä–∏](https://reasonml.github.io/reason-react/docs/en/state-actions-reducer.html) —É ReasonReact.
* [–ü—ñ–¥–ø–∏—Å–∫–∏](http://reactivex.io/rxjs/class/es6/Subscription.js~Subscription.html) –≤ Rx.
* [–ê–ª–≥–µ–±—Ä–∞—ó—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏](https://github.com/ocamllabs/ocaml-effects-tutorial#2-effectful-computations-in-a-pure-setting) –≤ Multicore OCaml.

[–°–µ–±–∞—Å—Ç—å—è–Ω –ú–∞—Ä–∫–±–æ–≥–µ (Sebastian Markb√•ge)](https://github.com/sebmarkbage) –∑–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞–≤ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –¥–∏–∑–∞–π–Ω —Ö—É–∫—ñ–≤, —è–∫–∏–π —É–¥–æ—Å–∫–æ–Ω–∞–ª–∏–ª–∏ [–ï–Ω–¥—Ä—é –ö–ª–∞—Ä–∫ (Andrew Clark)](https://github.com/acdlite), [–°–æ—Ñ—ñ –ê–ª–ø–µ—Ä—Ç (Sophie Alpert)](https://github.com/sophiebits), [–î–æ–º—ñ–Ω—ñ–∫ “ê–µ–Ω–Ω–µ–≤–µ–π (Dominic Gannaway)](https://github.com/trueadm) —Ç–∞ —ñ–Ω—à—ñ —á–ª–µ–Ω–∏ –∫–æ–º–∞–Ω–¥–∏ React.
